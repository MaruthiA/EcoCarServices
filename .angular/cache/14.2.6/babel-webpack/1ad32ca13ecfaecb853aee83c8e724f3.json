{"ast":null,"code":"import { EventEmitter, Component, ElementRef, ChangeDetectorRef, Output, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nfunction CarouselComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 7);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.counter);\n  }\n}\n\nfunction CarouselComponent_ng_template_5_div_0_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 11);\n  }\n\n  if (rf & 2) {\n    const i_r6 = ɵngcc0.ɵɵnextContext(2).index;\n    const ctx_r8 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"object-fit\", ctx_r8.objectFit);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r8.getImage(i_r6)[\"image\"][\"path\"], ɵngcc0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction CarouselComponent_ng_template_5_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_ng_template_5_div_0_img_1_Template, 1, 3, \"img\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r6 = ɵngcc0.ɵɵnextContext().index;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r7.getCellWidth() + \"px\")(\"border-radius\", ctx_r7.borderRadius + \"px\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.getImage(i_r6) && ctx_r7.getImage(i_r6)[\"image\"]);\n  }\n}\n\nfunction CarouselComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, CarouselComponent_ng_template_5_div_0_Template, 2, 5, \"div\", 8);\n  }\n\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", i_r6 < ctx_r2.cellLimit);\n  }\n}\n\nfunction CarouselComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 14);\n  }\n\n  if (rf & 2) {\n    const i_r13 = ctx.index;\n    const ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"carousel-dot-active\", i_r13 === ctx_r11.activeDotIndex);\n  }\n}\n\nfunction CarouselComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 12);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_div_6_div_1_Template, 1, 2, \"div\", 13);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.dotsArr);\n  }\n}\n\nfunction CarouselComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_1_listener() {\n      ɵngcc0.ɵɵrestoreView(_r15);\n      const ctx_r14 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r14.prev());\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(2, \"div\", 17);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_2_listener() {\n      ɵngcc0.ɵɵrestoreView(_r15);\n      const ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r16.next());\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"carousel-arrows-outside\", ctx_r4.arrowsOutside)(\"carousel-dark-arrows\", ctx_r4.arrowsTheme === \"dark\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isPrevArrowDisabled());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isNextArrowDisabled());\n  }\n}\n\nconst _c0 = [\"*\"];\n\nclass Touches {\n  constructor(properties) {\n    this.eventType = undefined;\n    this.handlers = {};\n    this.startX = 0;\n    this.startY = 0;\n    this.lastTap = 0;\n    this.doubleTapMinTimeout = 300;\n    this.tapMinTimeout = 200;\n    this.touchstartTime = 0;\n    this.i = 0;\n    this.isMousedown = false;\n    this._touchListeners = {\n      \"touchstart\": \"handleTouchstart\",\n      \"touchmove\": \"handleTouchmove\",\n      \"touchend\": \"handleTouchend\"\n    };\n    this._mouseListeners = {\n      \"mousedown\": \"handleMousedown\",\n      \"mousemove\": \"handleMousemove\",\n      \"mouseup\": \"handleMouseup\",\n      \"wheel\": \"handleWheel\"\n    };\n    this._otherListeners = {\n      \"resize\": \"handleResize\"\n    };\n    /*\r\n     * Listeners\r\n     */\n\n    /* Touchstart */\n\n    this.handleTouchstart = event => {\n      this.elementPosition = this.getElementPosition();\n      this.touchstartTime = new Date().getTime();\n\n      if (this.eventType === undefined) {\n        this.getTouchstartPosition(event);\n      }\n\n      this.runHandler(\"touchstart\", event);\n    };\n    /* Touchmove */\n\n\n    this.handleTouchmove = event => {\n      const touches = event.touches; // Pan\n\n      if (this.detectPan(touches)) {\n        this.runHandler(\"pan\", event);\n      } // Pinch\n\n\n      if (this.detectPinch(event)) {\n        this.runHandler(\"pinch\", event);\n      } // Linear swipe\n\n\n      switch (this.detectLinearSwipe(event)) {\n        case \"horizontal-swipe\":\n          event.swipeType = \"horizontal-swipe\";\n          this.runHandler(\"horizontal-swipe\", event);\n          break;\n\n        case \"vertical-swipe\":\n          event.swipeType = \"vertical-swipe\";\n          this.runHandler(\"vertical-swipe\", event);\n          break;\n      } // Linear swipe\n\n\n      if (this.detectLinearSwipe(event) || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n        this.handleLinearSwipe(event);\n      }\n    };\n    /* Touchend */\n\n\n    this.handleTouchend = event => {\n      const touches = event.touches; // Double Tap\n\n      if (this.detectDoubleTap()) {\n        this.runHandler(\"double-tap\", event);\n      } // Tap\n\n\n      this.detectTap();\n      this.runHandler(\"touchend\", event);\n      this.eventType = 'touchend';\n\n      if (touches && touches.length === 0) {\n        this.eventType = undefined;\n        this.i = 0;\n      }\n    };\n    /* Mousedown */\n\n\n    this.handleMousedown = event => {\n      this.isMousedown = true;\n      this.elementPosition = this.getElementPosition();\n      this.touchstartTime = new Date().getTime();\n\n      if (this.eventType === undefined) {\n        this.getMousedownPosition(event);\n      }\n\n      this.runHandler(\"mousedown\", event);\n    };\n    /* Mousemove */\n\n\n    this.handleMousemove = event => {\n      //event.preventDefault();\n      if (!this.isMousedown) {\n        return;\n      } // Pan\n\n\n      this.runHandler(\"pan\", event); // Linear swipe\n\n      switch (this.detectLinearSwipe(event)) {\n        case \"horizontal-swipe\":\n          event.swipeType = \"horizontal-swipe\";\n          this.runHandler(\"horizontal-swipe\", event);\n          break;\n\n        case \"vertical-swipe\":\n          event.swipeType = \"vertical-swipe\";\n          this.runHandler(\"vertical-swipe\", event);\n          break;\n      } // Linear swipe\n\n\n      if (this.detectLinearSwipe(event) || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n        this.handleLinearSwipe(event);\n      }\n    };\n    /* Mouseup */\n\n\n    this.handleMouseup = event => {\n      // Tap\n      this.detectTap();\n      this.isMousedown = false;\n      this.runHandler(\"mouseup\", event);\n      this.eventType = undefined;\n      this.i = 0;\n    };\n    /* Wheel */\n\n\n    this.handleWheel = event => {\n      this.runHandler(\"wheel\", event);\n    };\n    /* Resize */\n\n\n    this.handleResize = event => {\n      this.runHandler(\"resize\", event);\n    };\n\n    this.properties = properties;\n    this.element = this.properties.element;\n    this.elementPosition = this.getElementPosition();\n    this.toggleEventListeners('addEventListener');\n  }\n\n  get touchListeners() {\n    return this.properties.touchListeners ? this.properties.touchListeners : this._touchListeners;\n  }\n\n  get mouseListeners() {\n    return this.properties.mouseListeners ? this.properties.mouseListeners : this._mouseListeners;\n  }\n\n  get otherListeners() {\n    return this.properties.otherListeners ? this.properties.otherListeners : this._otherListeners;\n  }\n\n  destroy() {\n    this.toggleEventListeners('removeEventListener');\n  }\n\n  toggleEventListeners(action) {\n    let listeners;\n\n    if (this.properties.listeners === 'mouse and touch') {\n      listeners = Object.assign(this.touchListeners, this.mouseListeners);\n    } else {\n      listeners = this.detectTouchScreen() ? this.touchListeners : this.mouseListeners;\n    }\n\n    if (this.properties.resize) {\n      listeners = Object.assign(listeners, this.otherListeners);\n    }\n\n    for (var listener in listeners) {\n      const handler = listeners[listener]; // Window\n\n      if (listener === \"resize\") {\n        if (action === 'addEventListener') {\n          window.addEventListener(listener, this[handler], false);\n        }\n\n        if (action === 'removeEventListener') {\n          window.removeEventListener(listener, this[handler], false);\n        } // Document\n\n      } else if (listener === 'mouseup' || listener === \"mousemove\") {\n        if (action === 'addEventListener') {\n          document.addEventListener(listener, this[handler], {\n            passive: false\n          });\n        }\n\n        if (action === 'removeEventListener') {\n          document.removeEventListener(listener, this[handler], false);\n        } // Element\n\n      } else {\n        if (action === 'addEventListener') {\n          this.element.addEventListener(listener, this[handler], false);\n        }\n\n        if (action === 'removeEventListener') {\n          this.element.removeEventListener(listener, this[handler], false);\n        }\n      }\n    }\n  }\n\n  addEventListeners(listener) {\n    const handler = this._mouseListeners[listener];\n    window.addEventListener(listener, this[handler], false);\n  }\n\n  removeEventListeners(listener) {\n    const handler = this._mouseListeners[listener];\n    window.removeEventListener(listener, this[handler], false);\n  }\n\n  handleLinearSwipe(event) {\n    //event.preventDefault();\n    this.i++;\n\n    if (this.i > 3) {\n      this.eventType = this.getLinearSwipeType(event);\n    }\n\n    if (this.eventType === 'horizontal-swipe') {\n      this.runHandler('horizontal-swipe', event);\n    }\n\n    if (this.eventType === 'vertical-swipe') {\n      this.runHandler('vertical-swipe', event);\n    }\n  }\n\n  runHandler(eventName, response) {\n    if (this.handlers[eventName]) {\n      this.handlers[eventName](response);\n    }\n  }\n  /*\r\n   * Detection\r\n   */\n\n\n  detectPan(touches) {\n    return touches.length === 1 && !this.eventType || this.eventType === 'pan';\n  }\n\n  detectDoubleTap() {\n    if (this.eventType != undefined) {\n      return;\n    }\n\n    const currentTime = new Date().getTime();\n    const tapLength = currentTime - this.lastTap;\n    clearTimeout(this.doubleTapTimeout);\n\n    if (tapLength < this.doubleTapMinTimeout && tapLength > 0) {\n      return true;\n    } else {\n      this.doubleTapTimeout = setTimeout(() => {\n        clearTimeout(this.doubleTapTimeout);\n      }, this.doubleTapMinTimeout);\n    }\n\n    this.lastTap = currentTime;\n    return undefined;\n  }\n\n  detectTap() {\n    if (this.eventType != undefined) {\n      return;\n    }\n\n    const currentTime = new Date().getTime();\n    const tapLength = currentTime - this.touchstartTime;\n\n    if (tapLength > 0) {\n      if (tapLength < this.tapMinTimeout) {\n        this.runHandler(\"tap\", event);\n      } else {\n        this.runHandler(\"longtap\", event);\n      }\n    }\n  }\n\n  detectPinch(event) {\n    const touches = event.touches;\n    return touches.length === 2 && this.eventType === undefined || this.eventType === 'pinch';\n  }\n\n  detectLinearSwipe(event) {\n    const touches = event.touches;\n\n    if (touches) {\n      if (touches.length === 1 && !this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n        return this.getLinearSwipeType(event);\n      }\n    } else {\n      if (!this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n        return this.getLinearSwipeType(event);\n      }\n    }\n\n    return undefined;\n  }\n\n  getLinearSwipeType(event) {\n    if (this.eventType !== 'horizontal-swipe' && this.eventType !== 'vertical-swipe') {\n      const movementX = Math.abs(this.moveLeft(0, event) - this.startX);\n      const movementY = Math.abs(this.moveTop(0, event) - this.startY);\n\n      if (movementY * 3 > movementX) {\n        return 'vertical-swipe';\n      } else {\n        return 'horizontal-swipe';\n      }\n    } else {\n      return this.eventType;\n    }\n  }\n\n  getElementPosition() {\n    return this.element.getBoundingClientRect();\n  }\n\n  getTouchstartPosition(event) {\n    this.startX = event.touches[0].clientX - this.elementPosition.left;\n    this.startY = event.touches[0].clientY - this.elementPosition.top;\n  }\n\n  getMousedownPosition(event) {\n    this.startX = event.clientX - this.elementPosition.left;\n    this.startY = event.clientY - this.elementPosition.top;\n  }\n\n  moveLeft(index, event) {\n    const touches = event.touches;\n\n    if (touches) {\n      return touches[index].clientX - this.elementPosition.left;\n    } else {\n      return event.clientX - this.elementPosition.left;\n    }\n  }\n\n  moveTop(index, event) {\n    const touches = event.touches;\n\n    if (touches) {\n      return touches[index].clientY - this.elementPosition.top;\n    } else {\n      return event.clientY - this.elementPosition.top;\n    }\n  }\n\n  detectTouchScreen() {\n    var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n\n    var mq = function (query) {\n      return window.matchMedia(query).matches;\n    };\n\n    if ('ontouchstart' in window) {\n      return true;\n    } // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n    // https://git.io/vznFH\n\n\n    var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n    return mq(query);\n  }\n  /* Public properties and methods */\n\n\n  on(event, handler) {\n    if (event) {\n      this.handlers[event] = handler;\n    }\n  }\n\n}\n\nclass Carousel {\n  constructor(properties, utils, cells, container, slide) {\n    this.properties = properties;\n    this.utils = utils;\n    this.cells = cells;\n    this.container = container;\n    this.slide = slide;\n    /* The slide length has been limited by the limitSlideLength() method */\n\n    this.isSlideLengthLimited = false;\n    this.isContentImages = true;\n    this.isLazyLoad = true;\n    this.isContainerLocked = true;\n    this.alignCells = \"left\";\n    this.initialContainerPosition = 0;\n    this.containerPullLimit = 100;\n\n    this.handleTouchstart = event => {\n      this.container.handleTouchstart();\n      this.slide.handleTouchstart(event);\n    };\n\n    this.handleHorizontalSwipe = event => {\n      this.container.handleHorizontalSwipe();\n    };\n\n    this.handleTouchend = event => {\n      if (this.properties.freeScroll) {\n        this.container.handleTouchend();\n      } else {\n        this.container.handleTouchend(true);\n        this.slide.handleTouchend(event);\n      }\n    };\n\n    this.isNextArrowDisabled = () => {\n      return this.slide.isNextArrowDisabled();\n    };\n\n    this.isPrevArrowDisabled = () => {\n      return this.slide.isPrevArrowDisabled();\n    };\n\n    this.init();\n  }\n\n  get cellLength() {\n    return this.cells.cellLength;\n  }\n\n  get cellLengthInLightDOMMode() {\n    if (this.images) {\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n\n      if (cellLength > this.images.length) {\n        cellLength = this.images.length;\n      }\n\n      return cellLength;\n    } else {\n      return this.cellLength;\n    }\n  }\n\n  get lastCellIndex() {\n    return this.images.length ? this.images.length - 1 : this.cells.cellLength - 1;\n  }\n\n  get overflowCellsLimit() {\n    return this.utils.overflowCellsLimit;\n  }\n\n  get cellLimit() {\n    if (this.isLightDOM) {\n      let cellLimit = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n\n      if (cellLimit < this.numberOfVisibleCells) {\n        cellLimit = this.numberOfVisibleCells;\n      }\n\n      return cellLimit;\n    } else {\n      return this.properties.images.length;\n    }\n  }\n\n  get isLightDOM() {\n    return this.properties.lightDOM || this.properties.loop;\n  }\n\n  get images() {\n    return this.properties.images;\n  }\n\n  get margin() {\n    return this.properties.margin;\n  }\n\n  get minSwipeDistance() {\n    return this.properties.minSwipeDistance;\n  }\n\n  get transitionDuration() {\n    return this.properties.transitionDuration;\n  }\n\n  get transitionTimingFunction() {\n    return this.properties.transitionTimingFunction;\n  }\n\n  get fullCellWidth() {\n    return this.properties.cellWidth + this.margin;\n  }\n\n  get numberOfVisibleCells() {\n    return this.utils.numberOfVisibleCells;\n  }\n\n  get lapCounter() {\n    return Math.floor(this.slide.counter / this.cellLengthInLightDOMMode);\n  }\n\n  get slideCounter() {\n    return this.slide.counter;\n  }\n\n  updateProperties(properties) {\n    this.properties = properties;\n  }\n\n  init() {\n    this.cellsElement = this.properties.cellsElement;\n    this.visibleWidth = this.properties.visibleWidth || this.cellsElement.parentElement.clientWidth;\n  }\n\n  destroy() {\n    clearInterval(this.autoplayId);\n  }\n\n  lineUpCells() {\n    this.cells.lineUp();\n  }\n\n  handleTransitionend() {\n    this.slide.handleTransitionend();\n  }\n\n  getImage(index) {\n    return this.cells.getImage(index);\n  }\n\n  next(length = 1) {\n    if (!this.isNextArrowDisabled()) {\n      this.slide.next(length);\n    }\n  }\n\n  prev(length = 1) {\n    this.slide.prev(length);\n  }\n\n  autoplay() {\n    this.autoplayId = setInterval(() => {\n      this.next();\n    }, this.properties.autoplayInterval);\n  }\n\n  stopAutoplay() {\n    if (this.autoplayId) {\n      clearInterval(this.autoplayId);\n    }\n  }\n\n}\n\nclass Container {\n  constructor(carouselProperties, utils, cells) {\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.cells = cells;\n    /* The index of the new position relative to\r\n     * the active index, for example -1 or +1\r\n     */\n\n    this.newPositionIndex = 0;\n    this.isPositionCorrection = false;\n    this.initialPositionX = 0;\n    this.initialElementPositionX = 0;\n    this.isLocked = true;\n    this.pullLimit = 100;\n    this.startTime = 0;\n    this.startX = 0;\n    this.moveX = 0;\n    this.isSwipeInProgress = false;\n    this.init();\n  }\n\n  get visibleWidth() {\n    return this.utils.visibleWidth;\n  }\n\n  get overflowCellsLimit() {\n    return this.utils.overflowCellsLimit;\n  }\n\n  get images() {\n    return this.carouselProperties.images;\n  }\n\n  get element() {\n    return this.carouselProperties.cellsElement;\n  }\n\n  get freeScroll() {\n    return this.carouselProperties.freeScroll;\n  }\n\n  get fullCellWidth() {\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n  }\n\n  get numberOfVisibleCells() {\n    return this.utils.numberOfVisibleCells;\n  }\n\n  get transitionDuration() {\n    return this.carouselProperties.transitionDuration;\n  }\n\n  get transitionTimingFunction() {\n    return this.carouselProperties.transitionTimingFunction;\n  }\n\n  get cellLength() {\n    if (this.images) {\n      return this.images.length;\n    } else {\n      return this.cells.cellLength;\n    }\n  }\n\n  get cellLengthInLightDOMMode() {\n    if (this.images) {\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n\n      if (cellLength > this.images.length) {\n        cellLength = this.images.length;\n      }\n\n      return cellLength;\n    } else {\n      return this.cellLength;\n    }\n  }\n\n  get tooFewCells() {\n    return this.numberOfVisibleCells > this.cellLength;\n  }\n\n  get disabled() {\n    return this.tooFewCells;\n  }\n\n  get margin() {\n    return this.carouselProperties.margin;\n  }\n\n  get isLightDOM() {\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n  }\n\n  updateProperties(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n  }\n\n  init() {\n    this.setWidth();\n  }\n\n  handleTouchstart() {\n    this.startX = this.utils.getStartX(event);\n    this.startTime = new Date().getTime();\n    this.initialElementPositionX = this.getInitialElementPositionX();\n  }\n\n  handleHorizontalSwipe() {\n    if (this.disabled) {\n      return;\n    }\n\n    if (!this.isSwipeInProgress) {\n      this.startX = this.utils.getStartX(event);\n      this.startTime = new Date().getTime();\n      this.initialElementPositionX = this.getInitialElementPositionX();\n    }\n\n    this.isSwipeInProgress = true;\n    this.moveX = this.utils.getMoveX(event);\n    this.move();\n  }\n\n  handleTouchend(simpleProcessing = false) {\n    if (this.disabled) {\n      return;\n    }\n    /* If touchend was passed to the Slide class */\n\n\n    if (simpleProcessing) {\n      this.isSwipeInProgress = false;\n      return;\n    }\n\n    this.isSwipeInProgress = false;\n    this.finishMoving();\n    this.clearInitialValues();\n  }\n\n  move() {\n    let positionX = this.getMovePositionX();\n    const isPulled = this.detectPulled();\n    const direction = this.getDirection();\n\n    if (isPulled) {\n      if (isPulled.edge === \"left\" && direction === \"right\" || isPulled.edge === \"right\" && direction === \"left\") {\n        positionX = this.slowdownOnPull(positionX);\n      }\n    }\n\n    this.transformPositionX(positionX, 0);\n\n    if (this.freeScroll) {\n      this.initialPositionX = positionX;\n    }\n\n    if (isPulled) {\n      if (isPulled.edge === 'left' && isPulled.overflowX > this.pullLimit) {\n        this.initialPositionX = 0;\n      }\n\n      if (isPulled.edge === 'right' && isPulled.overflowX > this.pullLimit) {\n        this.initialPositionX = positionX;\n      }\n    }\n  }\n\n  getMovePositionX() {\n    const distance = this.getDistance();\n    return this.initialElementPositionX - distance;\n  }\n\n  getDistance() {\n    return this.startX - this.moveX;\n  }\n  /* If the container is pulled out of the left or right border */\n\n\n  detectPulled() {\n    const currentPositionX = this.getCurrentPositionX();\n\n    if (currentPositionX > 0) {\n      return {\n        edge: 'left',\n        positionX: currentPositionX,\n        overflowX: Math.abs(currentPositionX)\n      };\n    }\n\n    if (currentPositionX < this.getEndPosition()) {\n      return {\n        edge: 'right',\n        positionX: currentPositionX,\n        overflowX: Math.abs(currentPositionX - this.getEndPosition())\n      };\n    }\n\n    return undefined;\n  }\n\n  slowdownOnPull(_positionX) {\n    let distance = Math.abs(this.getDistance());\n    const endPosition = this.getEndPosition();\n    const isPulled = this.detectPulled();\n\n    if (!isPulled) {\n      return 0;\n    }\n\n    const decelerationRatio = 3 + isPulled.overflowX / 50;\n    let positionX = 0;\n\n    if (isPulled.edge === 'left') {\n      if (this.initialElementPositionX < 0) {\n        distance = distance - Math.abs(this.initialElementPositionX);\n      }\n\n      const rubberPositionX = distance / decelerationRatio;\n      positionX = rubberPositionX;\n\n      if (this.initialElementPositionX > 0) {\n        positionX = this.initialElementPositionX + rubberPositionX;\n      }\n\n      if (positionX > this.pullLimit) {\n        positionX = this.pullLimit;\n      }\n    }\n\n    if (isPulled.edge === 'right') {\n      const rubberPositionX = endPosition + (this.initialElementPositionX - distance - endPosition) / decelerationRatio;\n      const containerWidth = this.getWidth();\n      positionX = rubberPositionX;\n\n      if (this.initialElementPositionX < -(containerWidth - this.visibleWidth)) {\n        positionX = containerWidth - this.visibleWidth + this.initialElementPositionX + rubberPositionX;\n      }\n\n      if (positionX < endPosition - this.pullLimit) {\n        positionX = endPosition - this.pullLimit;\n      }\n    }\n\n    return positionX;\n  }\n\n  finishMoving() {\n    const positionX = this.getMovePositionX();\n    let newPositionX = 0;\n\n    if (this.freeScroll) {\n      newPositionX = this.getInertia();\n    }\n    /* Align container while pulling */\n\n\n    newPositionX = this.getAlignedPositionOnPull(newPositionX);\n    this.transformPositionX(newPositionX);\n    this.setInitialPosition(positionX);\n  }\n  /* Returns the new position of the container with inertia */\n\n\n  getInertia() {\n    const distance = this.getDistance();\n    const currentTime = new Date().getTime();\n    const tapLength = currentTime - this.startTime;\n    let inertia = distance / tapLength * 100;\n    return this.initialPositionX - inertia;\n  }\n\n  getAlignedPositionOnPull(newPositionX) {\n    const direction = this.getDirection();\n\n    if (direction === 'left') {\n      let endPosition = this.getEndPosition();\n\n      if (newPositionX < endPosition) {\n        return endPosition;\n      }\n    }\n\n    if (direction === 'right') {\n      if (newPositionX > 0) {\n        return 0;\n      }\n    }\n\n    return newPositionX;\n  }\n\n  getCurrentPositionX() {\n    const parentPosition = this.element.parentElement.getBoundingClientRect();\n    const position = this.element.getBoundingClientRect();\n    return position.left - parentPosition.left;\n  }\n\n  getEndPosition() {\n    if (this.isLightDOM) {\n      let imagesInContainer = this.cells.imageUtils.getImages();\n      return -(imagesInContainer.length * this.fullCellWidth - this.visibleWidth - this.margin);\n    } else {\n      const width = this.getWidth();\n      const visibleWidth = this.element.parentElement.clientWidth;\n      return visibleWidth - width;\n    }\n  }\n\n  transformPositionX(value, duration = this.transitionDuration) {\n    if (value === undefined) {\n      return;\n    }\n\n    this.element.style.transition = 'transform ' + duration + 'ms ' + this.transitionTimingFunction;\n    this.element.style.transform = 'translateX(' + value + 'px)';\n  }\n\n  getWidth() {\n    let width = this.cellLengthInLightDOMMode * this.fullCellWidth;\n    let totalImageWidth = this.cellLength * this.fullCellWidth;\n\n    if (totalImageWidth < width) {\n      width = totalImageWidth;\n    }\n\n    return this.isLightDOM ? width : totalImageWidth;\n  }\n\n  setWidth() {\n    const width = this.getWidth();\n    this.element.style.width = width + \"px\";\n  }\n\n  setInitialPosition(position) {\n    this.initialPositionX = position;\n  }\n\n  getElementPosition() {\n    return this.element.getBoundingClientRect();\n  }\n\n  getInitialElementPositionX() {\n    const carouselElementPosition = this.utils.getCarouselElementPosition()['left'];\n    return this.getElementPosition()['left'] - carouselElementPosition;\n  }\n\n  clearInitialValues() {\n    this.startX = this.moveX = 0;\n  }\n\n  getDirection() {\n    const direction = Math.sign(this.startX - this.moveX);\n\n    if (direction === -1) {\n      return 'right';\n    }\n\n    if (direction === 1) {\n      return 'left';\n    }\n\n    return undefined;\n  }\n\n}\n\nclass ImageUtils {\n  constructor(element) {\n    this.cellStack = [];\n    this.element = element;\n  }\n\n  getImages() {\n    return this.cellStack.filter(this.filter);\n  }\n\n  filter(cell) {\n    return cell.img !== undefined;\n  }\n\n}\n\nclass Cells {\n  constructor(carouselProperties, utils) {\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.counter = 0;\n    this.imageUtils = new ImageUtils(this.element);\n    this.init(carouselProperties);\n  }\n\n  get images() {\n    return this.carouselProperties.images;\n  }\n\n  get cellLength() {\n    return this.cells ? this.cells.length : 0;\n  }\n\n  get fullCellWidth() {\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n  }\n\n  get cellLengthInLightDOMMode() {\n    if (this.images) {\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n\n      if (cellLength > this.images.length) {\n        cellLength = this.images.length;\n      }\n\n      return cellLength;\n    } else {\n      return this.cellLength;\n    }\n  }\n\n  get numberOfVisibleCells() {\n    return this.utils.numberOfVisibleCells;\n  }\n\n  get overflowCellsLimit() {\n    return this.utils.overflowCellsLimit;\n  }\n\n  get isLightDOM() {\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n  }\n\n  updateProperties(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n  }\n\n  lineUp() {\n    const cells = this.element ? this.element.children : [];\n    this.imageUtils.cellStack = [];\n\n    for (var i = 0; i < cells.length; i++) {\n      let cell = cells[i];\n      let positionX = this.getCellPositionInContainer(i);\n      cell.style.transform = 'translateX(' + positionX + 'px)';\n      cell.style.width = this.carouselProperties.cellWidth + 'px';\n\n      if (this.getImage(i)) {\n        this.imageUtils.cellStack.push({\n          index: i,\n          positionX,\n          img: this.getImage(i)['image']\n        });\n      }\n    }\n\n    ;\n  }\n\n  ifSequenceOfCellsIsChanged() {\n    const cells = this.element.children;\n    return cells[0]['style'].transform !== 'translateX(0px)';\n  }\n\n  getCellPositionInContainer(cellIndexInDOMTree) {\n    let positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\n    return positionIndex * this.fullCellWidth;\n  }\n\n  getCellIndexInContainer(cellIndexInDOMTree) {\n    let positionIndex;\n\n    if (!this.isLightDOM) {\n      return cellIndexInDOMTree;\n    }\n\n    let cellLength = this.cellLengthInLightDOMMode;\n    let counter = this.counter - this.overflowCellsLimit;\n\n    if (counter > cellLength) {\n      counter = counter % cellLength;\n    }\n\n    if (counter < 0) {\n      return cellIndexInDOMTree;\n    } else {\n      positionIndex = cellIndexInDOMTree - counter;\n\n      if (positionIndex < 0) {\n        positionIndex = cellLength + positionIndex;\n      }\n    }\n\n    return positionIndex;\n  }\n\n  getImage(cellIndex) {\n    if (!this.images) {\n      return;\n    }\n\n    let imageIndex = this.getImageIndex(cellIndex);\n    let file = this.images[imageIndex];\n\n    if (file && !file.type) {\n      file.type = 'image';\n    }\n\n    return {\n      image: this.images[imageIndex],\n      imageIndex\n    };\n  }\n\n  getImageIndex(cellIndexInDOMTree) {\n    const positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\n    let imageIndex;\n\n    if (this.counter > this.overflowCellsLimit) {\n      let cellLimitOverflow = this.counter - this.overflowCellsLimit;\n      imageIndex = positionIndex + cellLimitOverflow;\n\n      if (this.images && this.carouselProperties.loop) {\n        imageIndex = imageIndex % this.images.length;\n      }\n    } else {\n      imageIndex = cellIndexInDOMTree;\n    }\n\n    return imageIndex;\n  }\n\n  setCounter(value) {\n    this.counter = value;\n  }\n\n  init(carouselProperties) {\n    this.element = this.carouselProperties.cellsElement;\n    this.cells = this.element.children;\n    this.visibleWidth = this.carouselProperties.visibleWidth || this.element.parentElement.clientWidth;\n  }\n\n}\n\nclass Slide {\n  constructor(carouselProperties, utils, cells, container) {\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.cells = cells;\n    this.container = container;\n    this.slideLength = 0;\n    this.isSlideInProgress = false;\n    this.counter = 0;\n    this._counter = 0;\n    this.distance = 0;\n    this.distanceAbs = 0;\n    this.isNotClickOnArrow = false;\n    this.initialPositionX = 0;\n    this.currentPositionX = 0;\n    /* The slide length has been limited by the limitSlideLength() method */\n\n    this.isSlideLengthLimited = false;\n    this.init();\n  }\n\n  get fullCellWidth() {\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n  }\n\n  get margin() {\n    return this.carouselProperties.margin;\n  }\n\n  get minSwipeDistance() {\n    return this.carouselProperties.minSwipeDistance;\n  }\n\n  get numberOfVisibleCells() {\n    return this.utils.numberOfVisibleCells;\n  }\n\n  get visibleCellsOverflowContainer() {\n    return this.utils.visibleCellsOverflowContainer;\n  }\n  /* The position to which the container returns after each slide\r\n   * in the light DUM tree mode.\r\n   */\n\n\n  get fixedContainerPosition() {\n    return -(this.overflowCellsLimit * this.fullCellWidth);\n  }\n\n  get overflowCellsLimit() {\n    return this.utils.overflowCellsLimit;\n  }\n\n  get images() {\n    return this.carouselProperties.images;\n  }\n  /* Number of cell elements in the DUM tree */\n\n\n  get cellLength() {\n    if (this.isLightDOM) {\n      return this.cells.cellLengthInLightDOMMode;\n    } else {\n      if (this.images) {\n        return this.images.length;\n      } else {\n        return this.cells.cellLength;\n      }\n    }\n  }\n\n  get isLightDOM() {\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n  }\n\n  updateProperties(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n    this.setVisibleWidth();\n  }\n\n  init() {\n    this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\n  }\n\n  handleTouchstart() {\n    /* Touchstart event is not called for arrow */\n    this.isNotClickOnArrow = true;\n    this.isSlideLengthLimited = false;\n\n    if (!this.isSlideInProgress) {\n      this.initialPositionX = this.container.getCurrentPositionX();\n    }\n  }\n\n  handleTouchend() {\n    if (!this.isNotClickOnArrow) {\n      return;\n    }\n\n    this.currentPositionX = this.container.getCurrentPositionX();\n    this.distanceAbs = Math.abs(this.initialPositionX - this.currentPositionX);\n    this.distance = this.initialPositionX - this.currentPositionX;\n    this.direction = this.getDirection();\n    this.isNotClickOnArrow = false;\n    this.handleSlide();\n  }\n\n  handleTransitionend() {\n    this.setCounter();\n    this.isSlideInProgress = false;\n\n    if (this.isLightDOM) {\n      this.alignContainerFast();\n    }\n  }\n\n  handleSlide(customSlideLength = undefined) {\n    let isUsingButton = customSlideLength;\n    let newPositionX;\n\n    if (isUsingButton && this.isSlideInProgress || !this.direction) {\n      return;\n    }\n    /* Custom slide length is used in arrows */\n\n\n    if (customSlideLength) {\n      this.slideLength = this.limitSlideLength(customSlideLength);\n\n      if (!this.isSlideInProgress) {\n        this.initialPositionX = this.container.getCurrentPositionX();\n      }\n    } else {\n      this.slideLength = this.getSlideLength(this.distanceAbs);\n    }\n    /* Store intermediate counter value */\n\n\n    this._counter = this.getPreliminaryCounter();\n\n    if (this.direction === 'left') {\n      if (!customSlideLength) {\n        this.slideLength = this.limitSlideLength(this.getSlideLength(this.distanceAbs));\n      }\n\n      this._counter = this.getPreliminaryCounter();\n      let isSlidesEnd = this.isSlidesEnd(this._counter);\n      newPositionX = this.getPositionByIndex(this._counter);\n\n      if (isSlidesEnd) {\n        this._counter = this.counter;\n        newPositionX = this.getPositionByIndex(this.counter);\n        this.slideLength = 0;\n      }\n    }\n\n    if (this.direction === 'right') {\n      if (!customSlideLength) {\n        this.slideLength = this.getSlideLength(this.distanceAbs);\n      }\n\n      if (this._counter < 0) {\n        this._counter = this.counter;\n        this.slideLength = this.counter;\n      }\n\n      newPositionX = this.getPositionByIndex(this.counter - this.slideLength);\n    }\n\n    if (this.container.getCurrentPositionX() !== newPositionX) {\n      this.isSlideInProgress = true;\n      this.container.transformPositionX(newPositionX);\n    }\n  }\n\n  next(length = 1) {\n    this.direction = 'left';\n    this.handleSlide(length);\n  }\n\n  prev(length = 1) {\n    this.direction = 'right';\n    this.handleSlide(length);\n  }\n\n  select(index) {\n    if (index > this.cellLength - 1) {\n      return;\n    }\n\n    if (index > this.counter) {\n      let length = index - this.counter;\n      this.next(length);\n    }\n\n    if (index < this.counter) {\n      let length = this.counter - index;\n      this.prev(length);\n    }\n  }\n\n  getPreliminaryCounter() {\n    if (this.direction === 'left') {\n      return this.counter + this.slideLength;\n    }\n\n    if (this.direction === 'right') {\n      return this.counter - this.slideLength;\n    }\n\n    return 0;\n  }\n  /*\r\n   * Limits the length of the slide during calls to the next() and prev()\r\n   * methods if the specified position is outside the cell length\r\n   */\n\n\n  limitSlideLength(slideLength) {\n    if (slideLength > 1) {\n      for (var i = 0; i < slideLength; i++) {\n        let newCounter = this.counter + (slideLength - i);\n\n        if (!this.isSlidesEnd(newCounter)) {\n          slideLength = slideLength - i;\n          this.isSlideLengthLimited = i > 0;\n          break;\n        }\n      }\n    }\n\n    return slideLength;\n  }\n  /* Offset the container to show the last cell completely */\n\n\n  getPositionCorrection(counter) {\n    let correction = 0;\n    let isLastSlide = this.isLastSlide(counter);\n\n    if (this.carouselProperties.loop || this.direction === \"right\") {\n      return 0;\n    }\n\n    if (this.isSlideLengthLimited || isLastSlide) {\n      let cellsWidth = this.cells.cellLengthInLightDOMMode * this.fullCellWidth;\n\n      if (this.visibleWidth < cellsWidth) {\n        correction = -(this.numberOfVisibleCells * this.fullCellWidth - this.visibleWidth - this.margin);\n      }\n\n      if (correction >= -this.margin) {\n        correction = 0;\n      }\n    }\n\n    return correction;\n  }\n\n  getSlideLength(distanceAbs) {\n    let isLastSlide = this.isLastSlide(this.counter);\n    /* If the last cell does not fit entirely, then the\r\n     * length of the swipe to the left, from the extreme\r\n     * right position, may be shorter than usual.\r\n     */\n\n    if (isLastSlide && this.direction === \"right\") {\n      distanceAbs = distanceAbs + this.visibleWidth % this.fullCellWidth;\n    }\n\n    let length = Math.floor(distanceAbs / this.fullCellWidth);\n\n    if (distanceAbs % this.fullCellWidth >= this.minSwipeDistance) {\n      length++;\n    }\n\n    return length;\n  }\n\n  getDistanceAbs() {\n    return Math.abs(this.initialPositionX - this.currentPositionX);\n  }\n\n  getDirection() {\n    const direction = Math.sign(this.initialPositionX - this.currentPositionX);\n\n    if (direction === -1) {\n      return 'right';\n    }\n\n    if (direction === 1) {\n      return 'left';\n    }\n\n    return undefined;\n  }\n\n  isSlidesEnd(counter) {\n    let margin = this.visibleCellsOverflowContainer ? 1 : 0;\n    let imageLength = this.images ? this.images.length : this.cells.cellLength;\n\n    if (this.carouselProperties.loop) {\n      return false;\n    } else {\n      return imageLength - counter + margin < this.numberOfVisibleCells;\n    }\n  }\n\n  isLastSlide(counter) {\n    return this.isSlidesEnd(counter + 1);\n  }\n\n  setCounter() {\n    if (this.direction === 'left') {\n      this.counter = this.counter + this.slideLength;\n    }\n\n    if (this.direction === 'right') {\n      this.counter = this.counter - this.slideLength;\n    }\n  }\n\n  getPositionByIndex(_counter) {\n    let correction = this.getPositionCorrection(this.counter + this.slideLength);\n    let position;\n\n    if (correction !== 0) {\n      correction = correction + this.fullCellWidth;\n    }\n\n    if (this.direction === 'right') {\n      correction = 0;\n    }\n\n    if (this.isLightDOM && this.isLightDOMMode(_counter) || this.isLightDOM && this.ifLeftDOMModeAtEnd(_counter)) {\n      let initialPosition = this.getPositionWithoutCorrection(this.initialPositionX);\n      let counterDifference = _counter - this.counter;\n      position = initialPosition - (counterDifference * this.fullCellWidth - correction);\n    } else {\n      position = -(_counter * this.fullCellWidth - correction);\n    }\n\n    position = this.provideSafePosition(position);\n    return position;\n  }\n\n  provideSafePosition(position) {\n    const endPosition = this.container.getEndPosition();\n\n    if (this.direction === 'left') {\n      if (position > 0) {\n        position = 0;\n      }\n    }\n\n    if (this.direction === 'right') {\n      if (position < endPosition) {\n        position = endPosition;\n      }\n    }\n\n    return position;\n  }\n\n  getPositionWithoutCorrection(value) {\n    let remainder = Math.round(value) % this.fullCellWidth;\n\n    if (remainder !== 0) {\n      return value - (this.fullCellWidth + remainder);\n    } else {\n      return value;\n    }\n  }\n\n  isNextArrowDisabled() {\n    return this.isLastSlide(this.counter) || !this.visibleCellsOverflowContainer && this.cellLength <= this.numberOfVisibleCells || this.visibleCellsOverflowContainer && this.cellLength < this.numberOfVisibleCells;\n  }\n\n  isPrevArrowDisabled() {\n    return this.counter === 0;\n  }\n\n  alignContainerFast() {\n    if (this.isLightDOMMode(this.counter)) {\n      let positionX = this.fixedContainerPosition;\n      this.container.transformPositionX(positionX, 0);\n      this.cells.setCounter(this.counter);\n      this.cells.lineUp();\n    } else if (this.ifLeftDOMModeToBeginning(this.counter)) {\n      /* If we have already exited the light DOM mode but\r\n       * the cells are still out of place\r\n       */\n      if (this.cells.ifSequenceOfCellsIsChanged()) {\n        let positionX = -(this.counter * this.fullCellWidth);\n        this.container.transformPositionX(positionX, 0);\n        this.cells.setCounter(this.counter);\n        this.cells.lineUp();\n      }\n    } else if (this.ifLeftDOMModeAtEnd(this.counter)) {\n      let containerPositionX = this.container.getCurrentPositionX();\n      let containerWidth = this.container.getWidth();\n      this.visibleWidth;\n\n      if (this.isLastSlide(this.counter) && containerWidth + containerPositionX >= this.visibleWidth) {\n        return;\n      }\n\n      let correction = this.getPositionCorrection(this.counter);\n\n      if (correction !== 0) {\n        correction = correction + this.fullCellWidth;\n      }\n\n      if (this.direction === 'right') {\n        correction = 0;\n      }\n\n      let positionX = this.fixedContainerPosition + correction;\n      this.container.transformPositionX(positionX, 0);\n      this.cells.setCounter(this.counter);\n      this.cells.lineUp();\n    }\n  }\n\n  isLightDOMMode(counter) {\n    let flag;\n    let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\n\n    if (!this.isLightDOM) {\n      return false;\n    }\n\n    if (counter > this.overflowCellsLimit && this.direction === \"left\" && counter <= remainderOfCells) {\n      flag = true;\n    }\n\n    if (counter >= this.overflowCellsLimit && this.direction === \"right\" && counter < remainderOfCells) {\n      flag = true;\n    }\n\n    if (this.counter > this.overflowCellsLimit && this.direction === \"left\" && this.counter <= remainderOfCells) {\n      flag = true;\n    }\n\n    if (this.counter >= this.overflowCellsLimit && this.direction === \"right\" && this.counter < remainderOfCells) {\n      flag = true;\n    }\n\n    return flag;\n  }\n\n  ifLeftDOMModeAtEnd(counter) {\n    let flag;\n    let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\n\n    if (counter >= remainderOfCells) {\n      flag = true;\n    }\n\n    if (this.counter >= remainderOfCells) {\n      flag = true;\n    }\n\n    return flag;\n  }\n\n  ifLeftDOMModeToBeginning(counter) {\n    let flag;\n\n    if (counter <= this.overflowCellsLimit) {\n      flag = true;\n    }\n\n    if (this.counter <= this.overflowCellsLimit) {\n      flag = true;\n    }\n\n    return flag;\n  }\n\n  setVisibleWidth() {\n    this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\n  }\n\n}\n\nclass Utils {\n  constructor(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n  }\n\n  get images() {\n    return this.carouselProperties.images;\n  }\n\n  get margin() {\n    return this.carouselProperties.margin;\n  }\n\n  get overflowCellsLimit() {\n    if (this.images && this.isImagesLessCellLimit) {\n      let overflowCellsLimit = Math.floor((this.images.length - this.numberOfVisibleCells) / 2);\n\n      if (overflowCellsLimit < 0) {\n        overflowCellsLimit = 0;\n      }\n\n      return overflowCellsLimit;\n    } else {\n      return this.carouselProperties.overflowCellsLimit;\n    }\n  }\n\n  get isImagesLessCellLimit() {\n    return this.carouselProperties.overflowCellsLimit * 2 + this.numberOfVisibleCells > this.images.length;\n  }\n\n  get numberOfVisibleCells() {\n    return Math.ceil(this.visibleWidth / this.fullCellWidth);\n  }\n\n  get visibleCellsOverflowContainer() {\n    return this.numberOfVisibleCells * this.fullCellWidth - this.margin > this.visibleWidth;\n  }\n\n  get fullCellWidth() {\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n  }\n\n  get visibleWidth() {\n    return this.carouselProperties.visibleWidth || this.carouselProperties.cellsElement.parentElement.clientWidth;\n  }\n\n  updateProperties(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n  }\n\n  getStartX(event) {\n    const touches = event.touches;\n    const carouselElementPosition = this.getCarouselElementPosition()['left'];\n    let startX;\n\n    if (touches) {\n      startX = touches[0].clientX - carouselElementPosition;\n    } else {\n      startX = event.clientX - carouselElementPosition;\n    }\n\n    return startX;\n  }\n\n  getMoveX(event) {\n    const touches = event.touches;\n    const carouselElementPositionX = this.getCarouselElementPosition()['left'];\n\n    if (touches) {\n      return touches[0].clientX - carouselElementPositionX;\n    } else {\n      return event.clientX - carouselElementPositionX;\n    }\n  }\n\n  getCarouselElementPosition() {\n    return this.carouselProperties.hostElement.getBoundingClientRect();\n  }\n\n}\n\nclass CarouselComponent {\n  constructor(elementRef, ref) {\n    this.elementRef = elementRef;\n    this.ref = ref;\n    this.minTimeout = 30;\n    this.isVideoPlaying = false;\n    this._isCounter = false;\n    this._cellWidth = 200;\n    this._loop = false;\n    this._lightDOM = false;\n    this.isMoving = false;\n    this.isNgContent = false;\n    this.events = new EventEmitter();\n    this.height = 200;\n    this.autoplay = false;\n    this.autoplayInterval = 5000;\n    this.pauseOnHover = true;\n    this.dots = false;\n    this.margin = 10;\n    this.objectFit = 'cover';\n    this.minSwipeDistance = 10;\n    this.transitionDuration = 200;\n    this.transitionTimingFunction = 'ease-out';\n    this.counterSeparator = \" / \";\n    this.overflowCellsLimit = 3;\n    this.listeners = 'mouse and touch';\n    this.cellsToScroll = 1;\n    this.freeScroll = false;\n    this.arrows = true;\n    this.arrowsOutside = false;\n    this.arrowsTheme = 'light';\n    this.hostClassCarousel = true;\n\n    this.handleTouchstart = event => {\n      this.touches.addEventListeners(\"mousemove\", \"handleMousemove\");\n      this.carousel.handleTouchstart(event);\n      this.isMoving = true;\n    };\n\n    this.handleHorizontalSwipe = event => {\n      event.preventDefault();\n      this.carousel.handleHorizontalSwipe(event);\n    };\n\n    this.handleTouchend = event => {\n      const touches = event.touches;\n      this.carousel.handleTouchend(event);\n      this.touches.removeEventListeners(\"mousemove\", \"handleMousemove\");\n      this.isMoving = false;\n    };\n\n    this.handleTap = event => {\n      let outboundEvent = {\n        name: 'click'\n      };\n      let nodes = Array.prototype.slice.call(this.cellsElement.children);\n      let cellElement = event.srcElement.closest(\".carousel-cell\");\n      const i = nodes.indexOf(cellElement);\n      const cellIndex = nodes.indexOf(cellElement);\n\n      if (this.images) {//outboundEvent.fileIndex = this.carousel.getFileIndex(i);\n        //outboundEvent.file = this.carousel.getFile(cellIndex);\n      } else {\n        outboundEvent.cellIndex = cellIndex;\n      }\n    };\n  }\n\n  get isContainerLocked() {\n    if (this.carousel) {\n      return this.carousel.isContainerLocked;\n    }\n  }\n\n  get slideCounter() {\n    if (this.carousel) {\n      return this.carousel.slideCounter;\n    }\n  }\n\n  get lapCounter() {\n    if (this.carousel) {\n      return this.carousel.lapCounter;\n    }\n  }\n\n  get isLandscape() {\n    return window.innerWidth > window.innerHeight;\n  }\n\n  get isSafari() {\n    const ua = navigator.userAgent.toLowerCase();\n\n    if (ua.indexOf('safari') !== -1) {\n      return !(ua.indexOf('chrome') > -1);\n    }\n  }\n\n  get counter() {\n    let counter;\n\n    if (this.loop) {\n      counter = this.slideCounter % this.cellLength;\n    } else {\n      counter = this.slideCounter;\n    }\n\n    return counter + 1 + this.counterSeparator + this.cellLength;\n  }\n\n  get cellsElement() {\n    return this.elementRef.nativeElement.querySelector('.carousel-cells');\n  }\n\n  get isArrows() {\n    return this.arrows && !this.freeScroll;\n  }\n\n  get isCounter() {\n    return this._isCounter && this.cellLength > 1;\n  }\n\n  get activeDotIndex() {\n    return this.slideCounter % this.cellLength;\n  }\n\n  get cellLimit() {\n    if (this.carousel) {\n      return this.carousel.cellLimit;\n    }\n  }\n\n  get carouselWidth() {\n    return this.elementRef.nativeElement.clientWidth;\n  }\n\n  set images(images) {\n    this._images = images;\n  }\n\n  get images() {\n    return this._images;\n  }\n\n  set cellWidth(value) {\n    if (value) {\n      this._cellWidth = value;\n    }\n  }\n\n  set isCounter(value) {\n    if (value) {\n      this._isCounter = value;\n    }\n  }\n\n  set loop(value) {\n    if (value) {\n      this._loop = value;\n    }\n  }\n\n  get loop() {\n    if (this.images) {\n      return this._loop;\n    } else {\n      return false;\n    }\n  }\n\n  set lightDOM(value) {\n    if (value) {\n      this._lightDOM = value;\n    }\n  }\n\n  get lightDOM() {\n    if (this.images) {\n      return this._lightDOM;\n    } else {\n      return false;\n    }\n  }\n\n  onWindowResize(event) {\n    if (this.utils.visibleWidth !== this.savedCarouselWidth) {\n      this.resize();\n    }\n  }\n\n  onMousemove(event) {\n    if (this.autoplay && this.pauseOnHover) {\n      this.carousel.stopAutoplay();\n    }\n  }\n\n  onMouseleave(event) {\n    if (this.autoplay && this.pauseOnHover) {\n      this.carousel.autoplay();\n    }\n  }\n\n  ngOnInit() {\n    this.isNgContent = this.cellsElement.children.length > 0;\n    this.touches = new Touches({\n      element: this.cellsElement,\n      listeners: this.listeners,\n      mouseListeners: {\n        \"mousedown\": \"handleMousedown\",\n        \"mouseup\": \"handleMouseup\"\n      }\n    });\n    this.touches.on('touchstart', this.handleTouchstart);\n    this.touches.on('horizontal-swipe', this.handleHorizontalSwipe);\n    this.touches.on('touchend', this.handleTouchend);\n    this.touches.on('mousedown', this.handleTouchstart);\n    this.touches.on('mouseup', this.handleTouchend);\n    this.touches.on('tap', this.handleTap);\n    this.setDimensions();\n  }\n\n  ngAfterViewInit() {\n    this.initCarousel();\n    this.cellLength = this.getCellLength();\n    this.dotsArr = Array(this.cellLength).fill(1);\n    this.ref.detectChanges();\n    this.carousel.lineUpCells();\n    this.savedCarouselWidth = this.carouselWidth;\n    /* Start detecting changes in the DOM tree */\n\n    this.detectDomChanges();\n  }\n\n  ngOnChanges(changes) {\n    if (changes.width || changes.height || changes.images) {\n      this.setDimensions();\n      this.initCarousel();\n      this.carousel.lineUpCells();\n      this.ref.detectChanges();\n    }\n  }\n\n  ngOnDestroy() {\n    this.touches.destroy(); //this.carousel.destroy();\n  }\n\n  initCarousel() {\n    this.carouselProperties = {\n      id: this.id,\n      cellsElement: this.elementRef.nativeElement.querySelector('.carousel-cells'),\n      hostElement: this.elementRef.nativeElement,\n      images: this.images,\n      cellWidth: this.getCellWidth(),\n      loop: this.loop,\n      autoplayInterval: this.autoplayInterval,\n      overflowCellsLimit: this.overflowCellsLimit,\n      visibleWidth: this.width,\n      margin: this.margin,\n      minSwipeDistance: this.minSwipeDistance,\n      transitionDuration: this.transitionDuration,\n      transitionTimingFunction: this.transitionTimingFunction,\n      videoProperties: this.videoProperties,\n      eventHandler: this.events,\n      freeScroll: this.freeScroll,\n      lightDOM: this.lightDOM\n    };\n    this.utils = new Utils(this.carouselProperties);\n    this.cells = new Cells(this.carouselProperties, this.utils);\n    this.container = new Container(this.carouselProperties, this.utils, this.cells);\n    this.slide = new Slide(this.carouselProperties, this.utils, this.cells, this.container);\n    this.carousel = new Carousel(this.carouselProperties, this.utils, this.cells, this.container, this.slide);\n\n    if (this.autoplay) {\n      this.carousel.autoplay();\n    }\n  }\n\n  resize() {\n    this.landscapeMode = this.isLandscape;\n    this.savedCarouselWidth = this.carouselWidth;\n    this.carouselProperties.cellWidth = this.getCellWidth();\n    this.cells.updateProperties(this.carouselProperties);\n    this.carousel.updateProperties(this.carouselProperties);\n    this.container.updateProperties(this.carouselProperties);\n    this.slide.updateProperties(this.carouselProperties);\n    this.utils.updateProperties(this.carouselProperties);\n    this.carousel.lineUpCells();\n    this.slide.select(0);\n    this.ref.detectChanges();\n  }\n\n  detectDomChanges() {\n    const observer = new MutationObserver(mutations => {\n      this.onDomChanges();\n    });\n    var config = {\n      attributes: true,\n      childList: true,\n      characterData: true\n    };\n    observer.observe(this.cellsElement, config);\n  }\n\n  onDomChanges() {\n    this.cellLength = this.getCellLength();\n    this.carousel.lineUpCells();\n    this.ref.detectChanges();\n  }\n\n  setDimensions() {\n    this.hostStyleHeight = this.height + 'px';\n    this.hostStyleWidth = this.width + 'px';\n  }\n\n  getImage(index) {\n    return this.carousel.getImage(index);\n  }\n\n  handleTransitionendCellContainer(event) {\n    if (event.target['className'] === 'carousel-cells') {\n      this.carousel.handleTransitionend();\n    }\n  }\n\n  getCellWidth() {\n    let elementWidth = this.carouselWidth;\n\n    if (this.cellsToShow) {\n      let margin = this.cellsToShow > 1 ? this.margin : 0;\n      let totalMargin = margin * (this.cellsToShow - 1);\n      return (elementWidth - totalMargin) / this.cellsToShow;\n    }\n\n    if (this._cellWidth === '100%') {\n      return elementWidth;\n    } else {\n      return this._cellWidth;\n    }\n  }\n\n  next() {\n    this.carousel.next(this.cellsToScroll);\n    this.carousel.stopAutoplay();\n  }\n\n  prev() {\n    this.carousel.prev(this.cellsToScroll);\n    this.carousel.stopAutoplay();\n  }\n\n  isNextArrowDisabled() {\n    if (this.carousel) {\n      return this.carousel.isNextArrowDisabled();\n    }\n  }\n\n  isPrevArrowDisabled() {\n    if (this.carousel) {\n      return this.carousel.isPrevArrowDisabled();\n    }\n  }\n\n  getCellLength() {\n    if (this.images) {\n      return this.images.length;\n    } else {\n      return this.cellsElement.children.length;\n    }\n  }\n\n}\n\nCarouselComponent.ɵfac = function CarouselComponent_Factory(t) {\n  return new (t || CarouselComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n};\n\nCarouselComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: CarouselComponent,\n  selectors: [[\"carousel\"], [\"\", \"carousel\", \"\"]],\n  hostVars: 6,\n  hostBindings: function CarouselComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"resize\", function CarouselComponent_resize_HostBindingHandler($event) {\n        return ctx.onWindowResize($event);\n      }, false, ɵngcc0.ɵɵresolveWindow)(\"mousemove\", function CarouselComponent_mousemove_HostBindingHandler($event) {\n        return ctx.onMousemove($event);\n      })(\"mouseleave\", function CarouselComponent_mouseleave_HostBindingHandler($event) {\n        return ctx.onMouseleave($event);\n      });\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵstyleProp(\"height\", ctx.hostStyleHeight)(\"width\", ctx.hostStyleWidth);\n      ɵngcc0.ɵɵclassProp(\"carousel\", ctx.hostClassCarousel);\n    }\n  },\n  inputs: {\n    height: \"height\",\n    autoplay: \"autoplay\",\n    autoplayInterval: \"autoplayInterval\",\n    pauseOnHover: \"pauseOnHover\",\n    dots: \"dots\",\n    margin: \"margin\",\n    objectFit: \"objectFit\",\n    minSwipeDistance: \"minSwipeDistance\",\n    transitionDuration: \"transitionDuration\",\n    transitionTimingFunction: \"transitionTimingFunction\",\n    counterSeparator: \"counterSeparator\",\n    overflowCellsLimit: \"overflowCellsLimit\",\n    listeners: \"listeners\",\n    cellsToScroll: \"cellsToScroll\",\n    freeScroll: \"freeScroll\",\n    arrows: \"arrows\",\n    arrowsOutside: \"arrowsOutside\",\n    arrowsTheme: \"arrowsTheme\",\n    isCounter: [\"counter\", \"isCounter\"],\n    images: \"images\",\n    cellWidth: \"cellWidth\",\n    loop: \"loop\",\n    lightDOM: \"lightDOM\",\n    id: \"id\",\n    width: \"width\",\n    borderRadius: \"borderRadius\",\n    videoProperties: \"videoProperties\",\n    cellsToShow: \"cellsToShow\"\n  },\n  outputs: {\n    events: \"events\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c0,\n  decls: 8,\n  vars: 6,\n  consts: [[\"class\", \"carousel-counter\", 4, \"ngIf\"], [1, \"carousel-container\"], [1, \"carousel-cells\", 3, \"transitionend\"], [\"cells\", \"\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [\"class\", \"carousel-dots\", 4, \"ngIf\"], [\"class\", \"carousel-arrows\", 3, \"carousel-arrows-outside\", \"carousel-dark-arrows\", 4, \"ngIf\"], [1, \"carousel-counter\"], [\"class\", \"carousel-cell\", 3, \"width\", \"border-radius\", 4, \"ngIf\"], [1, \"carousel-cell\"], [\"draggable\", \"false\", 3, \"src\", \"object-fit\", 4, \"ngIf\"], [\"draggable\", \"false\", 3, \"src\"], [1, \"carousel-dots\"], [\"class\", \"carousel-dot\", 3, \"carousel-dot-active\", 4, \"ngFor\", \"ngForOf\"], [1, \"carousel-dot\"], [1, \"carousel-arrows\"], [1, \"carousel-arrow\", \"carousel-arrow-prev\", 3, \"click\"], [1, \"carousel-arrow\", \"carousel-arrow-next\", 3, \"click\"]],\n  template: function CarouselComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, CarouselComponent_div_0_Template, 2, 1, \"div\", 0);\n      ɵngcc0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2, 3);\n      ɵngcc0.ɵɵlistener(\"transitionend\", function CarouselComponent_Template_div_transitionend_2_listener($event) {\n        return ctx.handleTransitionendCellContainer($event);\n      });\n      ɵngcc0.ɵɵprojection(4);\n      ɵngcc0.ɵɵtemplate(5, CarouselComponent_ng_template_5_Template, 1, 1, \"ng-template\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(6, CarouselComponent_div_6_Template, 2, 1, \"div\", 5);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(7, CarouselComponent_div_7_Template, 3, 8, \"div\", 6);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isCounter);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵclassProp(\"carousel-moving\", ctx.isMoving);\n      ɵngcc0.ɵɵadvance(4);\n      ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.images);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.dots);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isArrows);\n    }\n  },\n  dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf],\n  styles: [\"[_nghost-%COMP%]{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;cursor:grab}[_nghost-%COMP%]   .carousel-container.carousel-moving[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]   .carousel-counter[_ngcontent-%COMP%]{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}[_nghost-%COMP%]     .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]     .carousel-cells .carousel-cell img, [_nghost-%COMP%]     .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}[_nghost-%COMP%]     .carousel-cells .carousel-cell img.swiper-hide{display:none}[_nghost-%COMP%]     .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}[_nghost-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}[_nghost-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}[_nghost-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:-60px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:-60px}[_nghost-%COMP%]   .carousel-dark-arrows[_ngcontent-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]   .carousel-arrow-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot[_ngcontent-%COMP%]{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot-active[_ngcontent-%COMP%]{background-color:#fff}\"]\n});\n\nCarouselComponent.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: ChangeDetectorRef\n}];\n\nCarouselComponent.propDecorators = {\n  events: [{\n    type: Output\n  }],\n  id: [{\n    type: Input\n  }],\n  height: [{\n    type: Input\n  }],\n  width: [{\n    type: Input\n  }],\n  autoplay: [{\n    type: Input\n  }],\n  autoplayInterval: [{\n    type: Input\n  }],\n  pauseOnHover: [{\n    type: Input\n  }],\n  dots: [{\n    type: Input\n  }],\n  borderRadius: [{\n    type: Input\n  }],\n  margin: [{\n    type: Input\n  }],\n  objectFit: [{\n    type: Input\n  }],\n  minSwipeDistance: [{\n    type: Input\n  }],\n  transitionDuration: [{\n    type: Input\n  }],\n  transitionTimingFunction: [{\n    type: Input\n  }],\n  videoProperties: [{\n    type: Input\n  }],\n  counterSeparator: [{\n    type: Input\n  }],\n  overflowCellsLimit: [{\n    type: Input\n  }],\n  listeners: [{\n    type: Input\n  }],\n  cellsToShow: [{\n    type: Input\n  }],\n  cellsToScroll: [{\n    type: Input\n  }],\n  freeScroll: [{\n    type: Input\n  }],\n  arrows: [{\n    type: Input\n  }],\n  arrowsOutside: [{\n    type: Input\n  }],\n  arrowsTheme: [{\n    type: Input\n  }],\n  images: [{\n    type: Input\n  }],\n  cellWidth: [{\n    type: Input,\n    args: ['cellWidth']\n  }],\n  isCounter: [{\n    type: Input,\n    args: ['counter']\n  }],\n  loop: [{\n    type: Input,\n    args: ['loop']\n  }],\n  lightDOM: [{\n    type: Input,\n    args: ['lightDOM']\n  }],\n  hostClassCarousel: [{\n    type: HostBinding,\n    args: ['class.carousel']\n  }],\n  hostStyleHeight: [{\n    type: HostBinding,\n    args: ['style.height']\n  }],\n  hostStyleWidth: [{\n    type: HostBinding,\n    args: ['style.width']\n  }],\n  onWindowResize: [{\n    type: HostListener,\n    args: ['window:resize', ['$event']]\n  }],\n  onMousemove: [{\n    type: HostListener,\n    args: ['mousemove', ['$event']]\n  }],\n  onMouseleave: [{\n    type: HostListener,\n    args: ['mouseleave', ['$event']]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CarouselComponent, [{\n    type: Component,\n    args: [{\n      selector: 'carousel, [carousel]',\n      template: \"<div class=\\\"carousel-counter\\\" *ngIf=\\\"isCounter\\\">{{counter}}</div>\\r\\n\\r\\n<div class=\\\"carousel-container\\\" [class.carousel-moving]=\\\"isMoving\\\">\\r\\n\\t<div class=\\\"carousel-cells\\\" #cells (transitionend)=\\\"handleTransitionendCellContainer($event)\\\">\\r\\n\\t\\t<ng-content></ng-content>\\r\\n\\r\\n\\t\\t<ng-template ngFor let-image [ngForOf]=\\\"images\\\" let-i=\\\"index\\\">\\r\\n\\t\\t\\t<div class=\\\"carousel-cell\\\" \\r\\n\\t\\t\\t\\t[style.width]=\\\"getCellWidth()+'px'\\\"\\r\\n\\t\\t\\t\\t[style.border-radius]=\\\"borderRadius+'px'\\\"\\r\\n\\t\\t\\t\\t*ngIf=\\\"i < cellLimit\\\">\\r\\n\\t\\t\\t\\t<!-- Image -->\\r\\n\\t\\t\\t\\t<img \\r\\n\\t\\t\\t\\t\\t*ngIf=\\\"getImage(i) && getImage(i)['image']\\\" \\r\\n\\t\\t\\t\\t\\t[src]=\\\"getImage(i)['image']['path']\\\"\\r\\n\\t\\t\\t\\t\\t[style.object-fit]=\\\"objectFit\\\"\\r\\n\\t\\t\\t\\t\\tdraggable=\\\"false\\\" />\\r\\n\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</ng-template>\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\\"carousel-dots\\\" *ngIf=\\\"dots\\\">\\r\\n\\t\\t<div class=\\\"carousel-dot\\\" [class.carousel-dot-active]=\\\"i === activeDotIndex\\\" *ngFor=\\\"let dot of dotsArr; index as i\\\"></div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"carousel-arrows\\\" \\r\\n\\t[class.carousel-arrows-outside]=\\\"arrowsOutside\\\" \\r\\n\\t[class.carousel-dark-arrows]=\\\"arrowsTheme === 'dark'\\\"\\r\\n\\t*ngIf=\\\"isArrows\\\">\\r\\n\\t\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-prev\\\" [class.carousel-arrow-disabled]=\\\"isPrevArrowDisabled()\\\" (click)=\\\"prev()\\\"></div>\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-next\\\" [class.carousel-arrow-disabled]=\\\"isNextArrowDisabled()\\\" (click)=\\\"next()\\\"></div>\\r\\n</div>\",\n      styles: [\":host{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}:host .carousel-container{overflow:hidden;width:100%;height:100%;cursor:grab}:host .carousel-container.carousel-moving{cursor:grabbing}:host .carousel-counter{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}:host ::ng-deep .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}:host ::ng-deep .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}:host ::ng-deep .carousel-cells .carousel-cell img,:host ::ng-deep .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}:host ::ng-deep .carousel-cells .carousel-cell img.swiper-hide{display:none}:host ::ng-deep .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}:host .carousel-arrow{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}:host .carousel-arrow-prev{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}:host .carousel-arrow-next{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}:host .carousel-arrows-outside .carousel-arrow-prev{left:-60px}:host .carousel-arrows-outside .carousel-arrow-next{right:-60px}:host .carousel-dark-arrows .carousel-arrow{filter:invert(1)}:host .carousel-arrow-disabled{cursor:default;opacity:.5}:host .carousel-dots{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}:host .carousel-dots .carousel-dot{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}:host .carousel-dots .carousel-dot-active{background-color:#fff}\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }];\n  }, {\n    events: [{\n      type: Output\n    }],\n    height: [{\n      type: Input\n    }],\n    autoplay: [{\n      type: Input\n    }],\n    autoplayInterval: [{\n      type: Input\n    }],\n    pauseOnHover: [{\n      type: Input\n    }],\n    dots: [{\n      type: Input\n    }],\n    margin: [{\n      type: Input\n    }],\n    objectFit: [{\n      type: Input\n    }],\n    minSwipeDistance: [{\n      type: Input\n    }],\n    transitionDuration: [{\n      type: Input\n    }],\n    transitionTimingFunction: [{\n      type: Input\n    }],\n    counterSeparator: [{\n      type: Input\n    }],\n    overflowCellsLimit: [{\n      type: Input\n    }],\n    listeners: [{\n      type: Input\n    }],\n    cellsToScroll: [{\n      type: Input\n    }],\n    freeScroll: [{\n      type: Input\n    }],\n    arrows: [{\n      type: Input\n    }],\n    arrowsOutside: [{\n      type: Input\n    }],\n    arrowsTheme: [{\n      type: Input\n    }],\n    hostClassCarousel: [{\n      type: HostBinding,\n      args: ['class.carousel']\n    }],\n    isCounter: [{\n      type: Input,\n      args: ['counter']\n    }],\n    images: [{\n      type: Input\n    }],\n    cellWidth: [{\n      type: Input,\n      args: ['cellWidth']\n    }],\n    loop: [{\n      type: Input,\n      args: ['loop']\n    }],\n    lightDOM: [{\n      type: Input,\n      args: ['lightDOM']\n    }],\n    onWindowResize: [{\n      type: HostListener,\n      args: ['window:resize', ['$event']]\n    }],\n    onMousemove: [{\n      type: HostListener,\n      args: ['mousemove', ['$event']]\n    }],\n    onMouseleave: [{\n      type: HostListener,\n      args: ['mouseleave', ['$event']]\n    }],\n    hostStyleHeight: [{\n      type: HostBinding,\n      args: ['style.height']\n    }],\n    hostStyleWidth: [{\n      type: HostBinding,\n      args: ['style.width']\n    }],\n    id: [{\n      type: Input\n    }],\n    width: [{\n      type: Input\n    }],\n    borderRadius: [{\n      type: Input\n    }],\n    videoProperties: [{\n      type: Input\n    }],\n    cellsToShow: [{\n      type: Input\n    }]\n  });\n})();\n\nclass IvyCarouselModule {}\n\nIvyCarouselModule.ɵfac = function IvyCarouselModule_Factory(t) {\n  return new (t || IvyCarouselModule)();\n};\n\nIvyCarouselModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: IvyCarouselModule\n});\nIvyCarouselModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  imports: [CommonModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(IvyCarouselModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [CarouselComponent],\n      imports: [CommonModule],\n      exports: [CarouselComponent],\n      providers: [],\n      bootstrap: [],\n      entryComponents: [CarouselComponent]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(IvyCarouselModule, {\n    declarations: function () {\n      return [CarouselComponent];\n    },\n    imports: function () {\n      return [CommonModule];\n    },\n    exports: function () {\n      return [CarouselComponent];\n    }\n  });\n})();\n/*\r\n * Public API Surface of angular-responsive-carousel\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { CarouselComponent, IvyCarouselModule };","map":{"version":3,"names":["EventEmitter","Component","ElementRef","ChangeDetectorRef","Output","Input","HostBinding","HostListener","NgModule","CommonModule","ɵngcc0","ɵngcc1","CarouselComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","counter","CarouselComponent_ng_template_5_div_0_img_1_Template","ɵɵelement","i_r6","index","ctx_r8","ɵɵstyleProp","objectFit","ɵɵproperty","getImage","ɵɵsanitizeUrl","CarouselComponent_ng_template_5_div_0_Template","ɵɵtemplate","ctx_r7","getCellWidth","borderRadius","CarouselComponent_ng_template_5_Template","ctx_r2","cellLimit","CarouselComponent_div_6_div_1_Template","i_r13","ctx_r11","ɵɵclassProp","activeDotIndex","CarouselComponent_div_6_Template","ctx_r3","dotsArr","CarouselComponent_div_7_Template","_r15","ɵɵgetCurrentView","ɵɵlistener","CarouselComponent_div_7_Template_div_click_1_listener","ɵɵrestoreView","ctx_r14","ɵɵresetView","prev","CarouselComponent_div_7_Template_div_click_2_listener","ctx_r16","next","ctx_r4","arrowsOutside","arrowsTheme","isPrevArrowDisabled","isNextArrowDisabled","_c0","Touches","constructor","properties","eventType","undefined","handlers","startX","startY","lastTap","doubleTapMinTimeout","tapMinTimeout","touchstartTime","i","isMousedown","_touchListeners","_mouseListeners","_otherListeners","handleTouchstart","event","elementPosition","getElementPosition","Date","getTime","getTouchstartPosition","runHandler","handleTouchmove","touches","detectPan","detectPinch","detectLinearSwipe","swipeType","handleLinearSwipe","handleTouchend","detectDoubleTap","detectTap","length","handleMousedown","getMousedownPosition","handleMousemove","handleMouseup","handleWheel","handleResize","element","toggleEventListeners","touchListeners","mouseListeners","otherListeners","destroy","action","listeners","Object","assign","detectTouchScreen","resize","listener","handler","window","addEventListener","removeEventListener","document","passive","addEventListeners","removeEventListeners","getLinearSwipeType","eventName","response","currentTime","tapLength","clearTimeout","doubleTapTimeout","setTimeout","movementX","Math","abs","moveLeft","movementY","moveTop","getBoundingClientRect","clientX","left","clientY","top","prefixes","split","mq","query","matchMedia","matches","join","on","Carousel","utils","cells","container","slide","isSlideLengthLimited","isContentImages","isLazyLoad","isContainerLocked","alignCells","initialContainerPosition","containerPullLimit","handleHorizontalSwipe","freeScroll","init","cellLength","cellLengthInLightDOMMode","images","numberOfVisibleCells","overflowCellsLimit","lastCellIndex","isLightDOM","lightDOM","loop","margin","minSwipeDistance","transitionDuration","transitionTimingFunction","fullCellWidth","cellWidth","lapCounter","floor","slideCounter","updateProperties","cellsElement","visibleWidth","parentElement","clientWidth","clearInterval","autoplayId","lineUpCells","lineUp","handleTransitionend","autoplay","setInterval","autoplayInterval","stopAutoplay","Container","carouselProperties","newPositionIndex","isPositionCorrection","initialPositionX","initialElementPositionX","isLocked","pullLimit","startTime","moveX","isSwipeInProgress","tooFewCells","disabled","setWidth","getStartX","getInitialElementPositionX","getMoveX","move","simpleProcessing","finishMoving","clearInitialValues","positionX","getMovePositionX","isPulled","detectPulled","direction","getDirection","edge","slowdownOnPull","transformPositionX","overflowX","distance","getDistance","currentPositionX","getCurrentPositionX","getEndPosition","_positionX","endPosition","decelerationRatio","rubberPositionX","containerWidth","getWidth","newPositionX","getInertia","getAlignedPositionOnPull","setInitialPosition","inertia","parentPosition","position","imagesInContainer","imageUtils","getImages","width","value","duration","style","transition","transform","totalImageWidth","carouselElementPosition","getCarouselElementPosition","sign","ImageUtils","cellStack","filter","cell","img","Cells","children","getCellPositionInContainer","push","ifSequenceOfCellsIsChanged","cellIndexInDOMTree","positionIndex","getCellIndexInContainer","cellIndex","imageIndex","getImageIndex","file","type","image","cellLimitOverflow","setCounter","Slide","slideLength","isSlideInProgress","_counter","distanceAbs","isNotClickOnArrow","visibleCellsOverflowContainer","fixedContainerPosition","setVisibleWidth","hostElement","handleSlide","alignContainerFast","customSlideLength","isUsingButton","limitSlideLength","getSlideLength","getPreliminaryCounter","isSlidesEnd","getPositionByIndex","select","newCounter","getPositionCorrection","correction","isLastSlide","cellsWidth","getDistanceAbs","imageLength","isLightDOMMode","ifLeftDOMModeAtEnd","initialPosition","getPositionWithoutCorrection","counterDifference","provideSafePosition","remainder","round","ifLeftDOMModeToBeginning","containerPositionX","flag","remainderOfCells","Utils","isImagesLessCellLimit","ceil","carouselElementPositionX","CarouselComponent","elementRef","ref","minTimeout","isVideoPlaying","_isCounter","_cellWidth","_loop","_lightDOM","isMoving","isNgContent","events","height","pauseOnHover","dots","counterSeparator","cellsToScroll","arrows","hostClassCarousel","carousel","preventDefault","handleTap","outboundEvent","name","nodes","Array","prototype","slice","call","cellElement","srcElement","closest","indexOf","isLandscape","innerWidth","innerHeight","isSafari","ua","navigator","userAgent","toLowerCase","nativeElement","querySelector","isArrows","isCounter","carouselWidth","_images","onWindowResize","savedCarouselWidth","onMousemove","onMouseleave","ngOnInit","setDimensions","ngAfterViewInit","initCarousel","getCellLength","fill","detectChanges","detectDomChanges","ngOnChanges","changes","ngOnDestroy","id","videoProperties","eventHandler","landscapeMode","observer","MutationObserver","mutations","onDomChanges","config","attributes","childList","characterData","observe","hostStyleHeight","hostStyleWidth","handleTransitionendCellContainer","target","elementWidth","cellsToShow","totalMargin","ɵfac","CarouselComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","hostVars","hostBindings","CarouselComponent_HostBindings","CarouselComponent_resize_HostBindingHandler","$event","ɵɵresolveWindow","CarouselComponent_mousemove_HostBindingHandler","CarouselComponent_mouseleave_HostBindingHandler","inputs","outputs","features","ɵɵNgOnChangesFeature","ngContentSelectors","decls","vars","consts","template","CarouselComponent_Template","ɵɵprojectionDef","CarouselComponent_Template_div_transitionend_2_listener","ɵɵprojection","dependencies","NgForOf","NgIf","styles","ctorParameters","propDecorators","args","ngDevMode","ɵsetClassMetadata","selector","IvyCarouselModule","IvyCarouselModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","providers","bootstrap","entryComponents","ngJitMode","ɵɵsetNgModuleScope"],"sources":["C:/Users/Administrator/Desktop/Eco Car Rental Services/EcoCarRentalServices/node_modules/angular-responsive-carousel/__ivy_ngcc__/fesm2015/angular-responsive-carousel.js"],"sourcesContent":["import { EventEmitter, Component, ElementRef, ChangeDetectorRef, Output, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nfunction CarouselComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 7);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.counter);\n} }\nfunction CarouselComponent_ng_template_5_div_0_img_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 11);\n} if (rf & 2) {\n    const i_r6 = ɵngcc0.ɵɵnextContext(2).index;\n    const ctx_r8 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"object-fit\", ctx_r8.objectFit);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r8.getImage(i_r6)[\"image\"][\"path\"], ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction CarouselComponent_ng_template_5_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_ng_template_5_div_0_img_1_Template, 1, 3, \"img\", 10);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const i_r6 = ɵngcc0.ɵɵnextContext().index;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r7.getCellWidth() + \"px\")(\"border-radius\", ctx_r7.borderRadius + \"px\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.getImage(i_r6) && ctx_r7.getImage(i_r6)[\"image\"]);\n} }\nfunction CarouselComponent_ng_template_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, CarouselComponent_ng_template_5_div_0_Template, 2, 5, \"div\", 8);\n} if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", i_r6 < ctx_r2.cellLimit);\n} }\nfunction CarouselComponent_div_6_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 14);\n} if (rf & 2) {\n    const i_r13 = ctx.index;\n    const ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"carousel-dot-active\", i_r13 === ctx_r11.activeDotIndex);\n} }\nfunction CarouselComponent_div_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 12);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_div_6_div_1_Template, 1, 2, \"div\", 13);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.dotsArr);\n} }\nfunction CarouselComponent_div_7_Template(rf, ctx) { if (rf & 1) {\n    const _r15 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r14 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r14.prev()); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(2, \"div\", 17);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_2_listener() { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r16 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r16.next()); });\n    ɵngcc0.ɵɵelementEnd()();\n} if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"carousel-arrows-outside\", ctx_r4.arrowsOutside)(\"carousel-dark-arrows\", ctx_r4.arrowsTheme === \"dark\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isPrevArrowDisabled());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isNextArrowDisabled());\n} }\nconst _c0 = [\"*\"];\nclass Touches {\r\n    constructor(properties) {\r\n        this.eventType = undefined;\r\n        this.handlers = {};\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.lastTap = 0;\r\n        this.doubleTapMinTimeout = 300;\r\n        this.tapMinTimeout = 200;\r\n        this.touchstartTime = 0;\r\n        this.i = 0;\r\n        this.isMousedown = false;\r\n        this._touchListeners = {\r\n            \"touchstart\": \"handleTouchstart\",\r\n            \"touchmove\": \"handleTouchmove\",\r\n            \"touchend\": \"handleTouchend\"\r\n        };\r\n        this._mouseListeners = {\r\n            \"mousedown\": \"handleMousedown\",\r\n            \"mousemove\": \"handleMousemove\",\r\n            \"mouseup\": \"handleMouseup\",\r\n            \"wheel\": \"handleWheel\"\r\n        };\r\n        this._otherListeners = {\r\n            \"resize\": \"handleResize\"\r\n        };\r\n        /*\r\n         * Listeners\r\n         */\r\n        /* Touchstart */\r\n        this.handleTouchstart = (event) => {\r\n            this.elementPosition = this.getElementPosition();\r\n            this.touchstartTime = new Date().getTime();\r\n            if (this.eventType === undefined) {\r\n                this.getTouchstartPosition(event);\r\n            }\r\n            this.runHandler(\"touchstart\", event);\r\n        };\r\n        /* Touchmove */\r\n        this.handleTouchmove = (event) => {\r\n            const touches = event.touches;\r\n            // Pan\r\n            if (this.detectPan(touches)) {\r\n                this.runHandler(\"pan\", event);\r\n            }\r\n            // Pinch\r\n            if (this.detectPinch(event)) {\r\n                this.runHandler(\"pinch\", event);\r\n            }\r\n            // Linear swipe\r\n            switch (this.detectLinearSwipe(event)) {\r\n                case \"horizontal-swipe\":\r\n                    event.swipeType = \"horizontal-swipe\";\r\n                    this.runHandler(\"horizontal-swipe\", event);\r\n                    break;\r\n                case \"vertical-swipe\":\r\n                    event.swipeType = \"vertical-swipe\";\r\n                    this.runHandler(\"vertical-swipe\", event);\r\n                    break;\r\n            }\r\n            // Linear swipe\r\n            if (this.detectLinearSwipe(event) ||\r\n                this.eventType === 'horizontal-swipe' ||\r\n                this.eventType === 'vertical-swipe') {\r\n                this.handleLinearSwipe(event);\r\n            }\r\n        };\r\n        /* Touchend */\r\n        this.handleTouchend = (event) => {\r\n            const touches = event.touches;\r\n            // Double Tap\r\n            if (this.detectDoubleTap()) {\r\n                this.runHandler(\"double-tap\", event);\r\n            }\r\n            // Tap\r\n            this.detectTap();\r\n            this.runHandler(\"touchend\", event);\r\n            this.eventType = 'touchend';\r\n            if (touches && touches.length === 0) {\r\n                this.eventType = undefined;\r\n                this.i = 0;\r\n            }\r\n        };\r\n        /* Mousedown */\r\n        this.handleMousedown = (event) => {\r\n            this.isMousedown = true;\r\n            this.elementPosition = this.getElementPosition();\r\n            this.touchstartTime = new Date().getTime();\r\n            if (this.eventType === undefined) {\r\n                this.getMousedownPosition(event);\r\n            }\r\n            this.runHandler(\"mousedown\", event);\r\n        };\r\n        /* Mousemove */\r\n        this.handleMousemove = (event) => {\r\n            //event.preventDefault();\r\n            if (!this.isMousedown) {\r\n                return;\r\n            }\r\n            // Pan\r\n            this.runHandler(\"pan\", event);\r\n            // Linear swipe\r\n            switch (this.detectLinearSwipe(event)) {\r\n                case \"horizontal-swipe\":\r\n                    event.swipeType = \"horizontal-swipe\";\r\n                    this.runHandler(\"horizontal-swipe\", event);\r\n                    break;\r\n                case \"vertical-swipe\":\r\n                    event.swipeType = \"vertical-swipe\";\r\n                    this.runHandler(\"vertical-swipe\", event);\r\n                    break;\r\n            }\r\n            // Linear swipe\r\n            if (this.detectLinearSwipe(event) ||\r\n                this.eventType === 'horizontal-swipe' ||\r\n                this.eventType === 'vertical-swipe') {\r\n                this.handleLinearSwipe(event);\r\n            }\r\n        };\r\n        /* Mouseup */\r\n        this.handleMouseup = (event) => {\r\n            // Tap\r\n            this.detectTap();\r\n            this.isMousedown = false;\r\n            this.runHandler(\"mouseup\", event);\r\n            this.eventType = undefined;\r\n            this.i = 0;\r\n        };\r\n        /* Wheel */\r\n        this.handleWheel = (event) => {\r\n            this.runHandler(\"wheel\", event);\r\n        };\r\n        /* Resize */\r\n        this.handleResize = (event) => {\r\n            this.runHandler(\"resize\", event);\r\n        };\r\n        this.properties = properties;\r\n        this.element = this.properties.element;\r\n        this.elementPosition = this.getElementPosition();\r\n        this.toggleEventListeners('addEventListener');\r\n    }\r\n    get touchListeners() {\r\n        return this.properties.touchListeners ? this.properties.touchListeners : this._touchListeners;\r\n    }\r\n    get mouseListeners() {\r\n        return this.properties.mouseListeners ? this.properties.mouseListeners : this._mouseListeners;\r\n    }\r\n    get otherListeners() {\r\n        return this.properties.otherListeners ? this.properties.otherListeners : this._otherListeners;\r\n    }\r\n    destroy() {\r\n        this.toggleEventListeners('removeEventListener');\r\n    }\r\n    toggleEventListeners(action) {\r\n        let listeners;\r\n        if (this.properties.listeners === 'mouse and touch') {\r\n            listeners = Object.assign(this.touchListeners, this.mouseListeners);\r\n        }\r\n        else {\r\n            listeners = this.detectTouchScreen() ? this.touchListeners : this.mouseListeners;\r\n        }\r\n        if (this.properties.resize) {\r\n            listeners = Object.assign(listeners, this.otherListeners);\r\n        }\r\n        for (var listener in listeners) {\r\n            const handler = listeners[listener];\r\n            // Window\r\n            if (listener === \"resize\") {\r\n                if (action === 'addEventListener') {\r\n                    window.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    window.removeEventListener(listener, this[handler], false);\r\n                }\r\n                // Document\r\n            }\r\n            else if (listener === 'mouseup' || listener === \"mousemove\") {\r\n                if (action === 'addEventListener') {\r\n                    document.addEventListener(listener, this[handler], { passive: false });\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    document.removeEventListener(listener, this[handler], false);\r\n                }\r\n                // Element\r\n            }\r\n            else {\r\n                if (action === 'addEventListener') {\r\n                    this.element.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    this.element.removeEventListener(listener, this[handler], false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    addEventListeners(listener) {\r\n        const handler = this._mouseListeners[listener];\r\n        window.addEventListener(listener, this[handler], false);\r\n    }\r\n    removeEventListeners(listener) {\r\n        const handler = this._mouseListeners[listener];\r\n        window.removeEventListener(listener, this[handler], false);\r\n    }\r\n    handleLinearSwipe(event) {\r\n        //event.preventDefault();\r\n        this.i++;\r\n        if (this.i > 3) {\r\n            this.eventType = this.getLinearSwipeType(event);\r\n        }\r\n        if (this.eventType === 'horizontal-swipe') {\r\n            this.runHandler('horizontal-swipe', event);\r\n        }\r\n        if (this.eventType === 'vertical-swipe') {\r\n            this.runHandler('vertical-swipe', event);\r\n        }\r\n    }\r\n    runHandler(eventName, response) {\r\n        if (this.handlers[eventName]) {\r\n            this.handlers[eventName](response);\r\n        }\r\n    }\r\n    /*\r\n     * Detection\r\n     */\r\n    detectPan(touches) {\r\n        return touches.length === 1 && !this.eventType || this.eventType === 'pan';\r\n    }\r\n    detectDoubleTap() {\r\n        if (this.eventType != undefined) {\r\n            return;\r\n        }\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.lastTap;\r\n        clearTimeout(this.doubleTapTimeout);\r\n        if (tapLength < this.doubleTapMinTimeout && tapLength > 0) {\r\n            return true;\r\n        }\r\n        else {\r\n            this.doubleTapTimeout = setTimeout(() => {\r\n                clearTimeout(this.doubleTapTimeout);\r\n            }, this.doubleTapMinTimeout);\r\n        }\r\n        this.lastTap = currentTime;\r\n        return undefined;\r\n    }\r\n    detectTap() {\r\n        if (this.eventType != undefined) {\r\n            return;\r\n        }\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.touchstartTime;\r\n        if (tapLength > 0) {\r\n            if (tapLength < this.tapMinTimeout) {\r\n                this.runHandler(\"tap\", event);\r\n            }\r\n            else {\r\n                this.runHandler(\"longtap\", event);\r\n            }\r\n        }\r\n    }\r\n    detectPinch(event) {\r\n        const touches = event.touches;\r\n        return (touches.length === 2 && this.eventType === undefined) || this.eventType === 'pinch';\r\n    }\r\n    detectLinearSwipe(event) {\r\n        const touches = event.touches;\r\n        if (touches) {\r\n            if (touches.length === 1 && !this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\r\n                return this.getLinearSwipeType(event);\r\n            }\r\n        }\r\n        else {\r\n            if (!this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\r\n                return this.getLinearSwipeType(event);\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    getLinearSwipeType(event) {\r\n        if (this.eventType !== 'horizontal-swipe' && this.eventType !== 'vertical-swipe') {\r\n            const movementX = Math.abs(this.moveLeft(0, event) - this.startX);\r\n            const movementY = Math.abs(this.moveTop(0, event) - this.startY);\r\n            if ((movementY * 3) > movementX) {\r\n                return 'vertical-swipe';\r\n            }\r\n            else {\r\n                return 'horizontal-swipe';\r\n            }\r\n        }\r\n        else {\r\n            return this.eventType;\r\n        }\r\n    }\r\n    getElementPosition() {\r\n        return this.element.getBoundingClientRect();\r\n    }\r\n    getTouchstartPosition(event) {\r\n        this.startX = event.touches[0].clientX - this.elementPosition.left;\r\n        this.startY = event.touches[0].clientY - this.elementPosition.top;\r\n    }\r\n    getMousedownPosition(event) {\r\n        this.startX = event.clientX - this.elementPosition.left;\r\n        this.startY = event.clientY - this.elementPosition.top;\r\n    }\r\n    moveLeft(index, event) {\r\n        const touches = event.touches;\r\n        if (touches) {\r\n            return touches[index].clientX - this.elementPosition.left;\r\n        }\r\n        else {\r\n            return event.clientX - this.elementPosition.left;\r\n        }\r\n    }\r\n    moveTop(index, event) {\r\n        const touches = event.touches;\r\n        if (touches) {\r\n            return touches[index].clientY - this.elementPosition.top;\r\n        }\r\n        else {\r\n            return event.clientY - this.elementPosition.top;\r\n        }\r\n    }\r\n    detectTouchScreen() {\r\n        var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\r\n        var mq = function (query) {\r\n            return window.matchMedia(query).matches;\r\n        };\r\n        if (('ontouchstart' in window)) {\r\n            return true;\r\n        }\r\n        // include the 'heartz' as a way to have a non matching MQ to help terminate the join\r\n        // https://git.io/vznFH\r\n        var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\r\n        return mq(query);\r\n    }\r\n    /* Public properties and methods */\r\n    on(event, handler) {\r\n        if (event) {\r\n            this.handlers[event] = handler;\r\n        }\r\n    }\r\n}\n\nclass Carousel {\r\n    constructor(properties, utils, cells, container, slide) {\r\n        this.properties = properties;\r\n        this.utils = utils;\r\n        this.cells = cells;\r\n        this.container = container;\r\n        this.slide = slide;\r\n        /* The slide length has been limited by the limitSlideLength() method */\r\n        this.isSlideLengthLimited = false;\r\n        this.isContentImages = true;\r\n        this.isLazyLoad = true;\r\n        this.isContainerLocked = true;\r\n        this.alignCells = \"left\";\r\n        this.initialContainerPosition = 0;\r\n        this.containerPullLimit = 100;\r\n        this.handleTouchstart = (event) => {\r\n            this.container.handleTouchstart();\r\n            this.slide.handleTouchstart(event);\r\n        };\r\n        this.handleHorizontalSwipe = (event) => {\r\n            this.container.handleHorizontalSwipe();\r\n        };\r\n        this.handleTouchend = (event) => {\r\n            if (this.properties.freeScroll) {\r\n                this.container.handleTouchend();\r\n            }\r\n            else {\r\n                this.container.handleTouchend(true);\r\n                this.slide.handleTouchend(event);\r\n            }\r\n        };\r\n        this.isNextArrowDisabled = () => {\r\n            return this.slide.isNextArrowDisabled();\r\n        };\r\n        this.isPrevArrowDisabled = () => {\r\n            return this.slide.isPrevArrowDisabled();\r\n        };\r\n        this.init();\r\n    }\r\n    get cellLength() {\r\n        return this.cells.cellLength;\r\n    }\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        }\r\n        else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n    get lastCellIndex() {\r\n        return this.images.length ? (this.images.length - 1) : (this.cells.cellLength - 1);\r\n    }\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n    get cellLimit() {\r\n        if (this.isLightDOM) {\r\n            let cellLimit = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLimit < this.numberOfVisibleCells) {\r\n                cellLimit = this.numberOfVisibleCells;\r\n            }\r\n            return cellLimit;\r\n        }\r\n        else {\r\n            return this.properties.images.length;\r\n        }\r\n    }\r\n    get isLightDOM() {\r\n        return this.properties.lightDOM || this.properties.loop;\r\n    }\r\n    get images() {\r\n        return this.properties.images;\r\n    }\r\n    get margin() {\r\n        return this.properties.margin;\r\n    }\r\n    get minSwipeDistance() {\r\n        return this.properties.minSwipeDistance;\r\n    }\r\n    get transitionDuration() {\r\n        return this.properties.transitionDuration;\r\n    }\r\n    get transitionTimingFunction() {\r\n        return this.properties.transitionTimingFunction;\r\n    }\r\n    get fullCellWidth() {\r\n        return this.properties.cellWidth + this.margin;\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n    get lapCounter() {\r\n        return Math.floor(this.slide.counter / this.cellLengthInLightDOMMode);\r\n    }\r\n    get slideCounter() {\r\n        return this.slide.counter;\r\n    }\r\n    updateProperties(properties) {\r\n        this.properties = properties;\r\n    }\r\n    init() {\r\n        this.cellsElement = this.properties.cellsElement;\r\n        this.visibleWidth = this.properties.visibleWidth || this.cellsElement.parentElement.clientWidth;\r\n    }\r\n    destroy() {\r\n        clearInterval(this.autoplayId);\r\n    }\r\n    lineUpCells() {\r\n        this.cells.lineUp();\r\n    }\r\n    handleTransitionend() {\r\n        this.slide.handleTransitionend();\r\n    }\r\n    getImage(index) {\r\n        return this.cells.getImage(index);\r\n    }\r\n    next(length = 1) {\r\n        if (!this.isNextArrowDisabled()) {\r\n            this.slide.next(length);\r\n        }\r\n    }\r\n    prev(length = 1) {\r\n        this.slide.prev(length);\r\n    }\r\n    autoplay() {\r\n        this.autoplayId = setInterval(() => {\r\n            this.next();\r\n        }, this.properties.autoplayInterval);\r\n    }\r\n    stopAutoplay() {\r\n        if (this.autoplayId) {\r\n            clearInterval(this.autoplayId);\r\n        }\r\n    }\r\n}\n\nclass Container {\r\n    constructor(carouselProperties, utils, cells) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.utils = utils;\r\n        this.cells = cells;\r\n        /* The index of the new position relative to\r\n         * the active index, for example -1 or +1\r\n         */\r\n        this.newPositionIndex = 0;\r\n        this.isPositionCorrection = false;\r\n        this.initialPositionX = 0;\r\n        this.initialElementPositionX = 0;\r\n        this.isLocked = true;\r\n        this.pullLimit = 100;\r\n        this.startTime = 0;\r\n        this.startX = 0;\r\n        this.moveX = 0;\r\n        this.isSwipeInProgress = false;\r\n        this.init();\r\n    }\r\n    get visibleWidth() {\r\n        return this.utils.visibleWidth;\r\n    }\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n    get element() {\r\n        return this.carouselProperties.cellsElement;\r\n    }\r\n    get freeScroll() {\r\n        return this.carouselProperties.freeScroll;\r\n    }\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n    get transitionDuration() {\r\n        return this.carouselProperties.transitionDuration;\r\n    }\r\n    get transitionTimingFunction() {\r\n        return this.carouselProperties.transitionTimingFunction;\r\n    }\r\n    get cellLength() {\r\n        if (this.images) {\r\n            return this.images.length;\r\n        }\r\n        else {\r\n            return this.cells.cellLength;\r\n        }\r\n    }\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        }\r\n        else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n    get tooFewCells() {\r\n        return this.numberOfVisibleCells > this.cellLength;\r\n    }\r\n    get disabled() {\r\n        return this.tooFewCells;\r\n    }\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n    updateProperties(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n    init() {\r\n        this.setWidth();\r\n    }\r\n    handleTouchstart() {\r\n        this.startX = this.utils.getStartX(event);\r\n        this.startTime = new Date().getTime();\r\n        this.initialElementPositionX = this.getInitialElementPositionX();\r\n    }\r\n    handleHorizontalSwipe() {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        if (!this.isSwipeInProgress) {\r\n            this.startX = this.utils.getStartX(event);\r\n            this.startTime = new Date().getTime();\r\n            this.initialElementPositionX = this.getInitialElementPositionX();\r\n        }\r\n        this.isSwipeInProgress = true;\r\n        this.moveX = this.utils.getMoveX(event);\r\n        this.move();\r\n    }\r\n    handleTouchend(simpleProcessing = false) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        /* If touchend was passed to the Slide class */\r\n        if (simpleProcessing) {\r\n            this.isSwipeInProgress = false;\r\n            return;\r\n        }\r\n        this.isSwipeInProgress = false;\r\n        this.finishMoving();\r\n        this.clearInitialValues();\r\n    }\r\n    move() {\r\n        let positionX = this.getMovePositionX();\r\n        const isPulled = this.detectPulled();\r\n        const direction = this.getDirection();\r\n        if (isPulled) {\r\n            if (isPulled.edge === \"left\" && direction === \"right\" ||\r\n                isPulled.edge === \"right\" && direction === \"left\") {\r\n                positionX = this.slowdownOnPull(positionX);\r\n            }\r\n        }\r\n        this.transformPositionX(positionX, 0);\r\n        if (this.freeScroll) {\r\n            this.initialPositionX = positionX;\r\n        }\r\n        if (isPulled) {\r\n            if (isPulled.edge === 'left' && isPulled.overflowX > this.pullLimit) {\r\n                this.initialPositionX = 0;\r\n            }\r\n            if (isPulled.edge === 'right' && isPulled.overflowX > this.pullLimit) {\r\n                this.initialPositionX = positionX;\r\n            }\r\n        }\r\n    }\r\n    getMovePositionX() {\r\n        const distance = this.getDistance();\r\n        return this.initialElementPositionX - distance;\r\n    }\r\n    getDistance() {\r\n        return this.startX - this.moveX;\r\n    }\r\n    /* If the container is pulled out of the left or right border */\r\n    detectPulled() {\r\n        const currentPositionX = this.getCurrentPositionX();\r\n        if (currentPositionX > 0) {\r\n            return {\r\n                edge: 'left',\r\n                positionX: currentPositionX,\r\n                overflowX: Math.abs(currentPositionX)\r\n            };\r\n        }\r\n        if (currentPositionX < this.getEndPosition()) {\r\n            return {\r\n                edge: 'right',\r\n                positionX: currentPositionX,\r\n                overflowX: Math.abs(currentPositionX - this.getEndPosition())\r\n            };\r\n        }\r\n        return undefined;\r\n    }\r\n    slowdownOnPull(_positionX) {\r\n        let distance = Math.abs(this.getDistance());\r\n        const endPosition = this.getEndPosition();\r\n        const isPulled = this.detectPulled();\r\n        if (!isPulled) {\r\n            return 0;\r\n        }\r\n        const decelerationRatio = 3 + isPulled.overflowX / 50;\r\n        let positionX = 0;\r\n        if (isPulled.edge === 'left') {\r\n            if (this.initialElementPositionX < 0) {\r\n                distance = distance - Math.abs(this.initialElementPositionX);\r\n            }\r\n            const rubberPositionX = distance / decelerationRatio;\r\n            positionX = rubberPositionX;\r\n            if (this.initialElementPositionX > 0) {\r\n                positionX = this.initialElementPositionX + rubberPositionX;\r\n            }\r\n            if (positionX > this.pullLimit) {\r\n                positionX = this.pullLimit;\r\n            }\r\n        }\r\n        if (isPulled.edge === 'right') {\r\n            const rubberPositionX = endPosition + (((this.initialElementPositionX - distance) - endPosition) / decelerationRatio);\r\n            const containerWidth = this.getWidth();\r\n            positionX = rubberPositionX;\r\n            if (this.initialElementPositionX < -(containerWidth - this.visibleWidth)) {\r\n                positionX = ((containerWidth - this.visibleWidth) + this.initialElementPositionX) + rubberPositionX;\r\n            }\r\n            if (positionX < endPosition - this.pullLimit) {\r\n                positionX = endPosition - this.pullLimit;\r\n            }\r\n        }\r\n        return positionX;\r\n    }\r\n    finishMoving() {\r\n        const positionX = this.getMovePositionX();\r\n        let newPositionX = 0;\r\n        if (this.freeScroll) {\r\n            newPositionX = this.getInertia();\r\n        }\r\n        /* Align container while pulling */\r\n        newPositionX = this.getAlignedPositionOnPull(newPositionX);\r\n        this.transformPositionX(newPositionX);\r\n        this.setInitialPosition(positionX);\r\n    }\r\n    /* Returns the new position of the container with inertia */\r\n    getInertia() {\r\n        const distance = this.getDistance();\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.startTime;\r\n        let inertia = (distance / tapLength) * 100;\r\n        return this.initialPositionX - inertia;\r\n    }\r\n    getAlignedPositionOnPull(newPositionX) {\r\n        const direction = this.getDirection();\r\n        if (direction === 'left') {\r\n            let endPosition = this.getEndPosition();\r\n            if (newPositionX < endPosition) {\r\n                return endPosition;\r\n            }\r\n        }\r\n        if (direction === 'right') {\r\n            if (newPositionX > 0) {\r\n                return 0;\r\n            }\r\n        }\r\n        return newPositionX;\r\n    }\r\n    getCurrentPositionX() {\r\n        const parentPosition = this.element.parentElement.getBoundingClientRect();\r\n        const position = this.element.getBoundingClientRect();\r\n        return position.left - parentPosition.left;\r\n    }\r\n    getEndPosition() {\r\n        if (this.isLightDOM) {\r\n            let imagesInContainer = this.cells.imageUtils.getImages();\r\n            return -(imagesInContainer.length * this.fullCellWidth - this.visibleWidth - this.margin);\r\n        }\r\n        else {\r\n            const width = this.getWidth();\r\n            const visibleWidth = this.element.parentElement.clientWidth;\r\n            return visibleWidth - width;\r\n        }\r\n    }\r\n    transformPositionX(value, duration = this.transitionDuration) {\r\n        if (value === undefined) {\r\n            return;\r\n        }\r\n        this.element.style.transition = 'transform ' + duration + 'ms ' + this.transitionTimingFunction;\r\n        this.element.style.transform = 'translateX(' + value + 'px)';\r\n    }\r\n    getWidth() {\r\n        let width = this.cellLengthInLightDOMMode * this.fullCellWidth;\r\n        let totalImageWidth = this.cellLength * this.fullCellWidth;\r\n        if (totalImageWidth < width) {\r\n            width = totalImageWidth;\r\n        }\r\n        return this.isLightDOM ? width : totalImageWidth;\r\n    }\r\n    setWidth() {\r\n        const width = this.getWidth();\r\n        this.element.style.width = width + \"px\";\r\n    }\r\n    setInitialPosition(position) {\r\n        this.initialPositionX = position;\r\n    }\r\n    getElementPosition() {\r\n        return this.element.getBoundingClientRect();\r\n    }\r\n    getInitialElementPositionX() {\r\n        const carouselElementPosition = this.utils.getCarouselElementPosition()['left'];\r\n        return this.getElementPosition()['left'] - carouselElementPosition;\r\n    }\r\n    clearInitialValues() {\r\n        this.startX = this.moveX = 0;\r\n    }\r\n    getDirection() {\r\n        const direction = Math.sign(this.startX - this.moveX);\r\n        if (direction === -1) {\r\n            return 'right';\r\n        }\r\n        if (direction === 1) {\r\n            return 'left';\r\n        }\r\n        return undefined;\r\n    }\r\n}\n\nclass ImageUtils {\r\n    constructor(element) {\r\n        this.cellStack = [];\r\n        this.element = element;\r\n    }\r\n    getImages() {\r\n        return this.cellStack.filter(this.filter);\r\n    }\r\n    filter(cell) {\r\n        return cell.img !== undefined;\r\n    }\r\n}\r\nclass Cells {\r\n    constructor(carouselProperties, utils) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.utils = utils;\r\n        this.counter = 0;\r\n        this.imageUtils = new ImageUtils(this.element);\r\n        this.init(carouselProperties);\r\n    }\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n    get cellLength() {\r\n        return this.cells ? this.cells.length : 0;\r\n    }\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        }\r\n        else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n    updateProperties(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n    lineUp() {\r\n        const cells = this.element ? this.element.children : [];\r\n        this.imageUtils.cellStack = [];\r\n        for (var i = 0; i < cells.length; i++) {\r\n            let cell = cells[i];\r\n            let positionX = this.getCellPositionInContainer(i);\r\n            cell.style.transform = 'translateX(' + positionX + 'px)';\r\n            cell.style.width = this.carouselProperties.cellWidth + 'px';\r\n            if (this.getImage(i)) {\r\n                this.imageUtils.cellStack.push({\r\n                    index: i,\r\n                    positionX,\r\n                    img: this.getImage(i)['image']\r\n                });\r\n            }\r\n        }\r\n        ;\r\n    }\r\n    ifSequenceOfCellsIsChanged() {\r\n        const cells = this.element.children;\r\n        return cells[0]['style'].transform !== 'translateX(0px)';\r\n    }\r\n    getCellPositionInContainer(cellIndexInDOMTree) {\r\n        let positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\r\n        return positionIndex * this.fullCellWidth;\r\n    }\r\n    getCellIndexInContainer(cellIndexInDOMTree) {\r\n        let positionIndex;\r\n        if (!this.isLightDOM) {\r\n            return cellIndexInDOMTree;\r\n        }\r\n        let cellLength = this.cellLengthInLightDOMMode;\r\n        let counter = this.counter - this.overflowCellsLimit;\r\n        if (counter > cellLength) {\r\n            counter = counter % cellLength;\r\n        }\r\n        if (counter < 0) {\r\n            return cellIndexInDOMTree;\r\n        }\r\n        else {\r\n            positionIndex = cellIndexInDOMTree - counter;\r\n            if (positionIndex < 0) {\r\n                positionIndex = cellLength + positionIndex;\r\n            }\r\n        }\r\n        return positionIndex;\r\n    }\r\n    getImage(cellIndex) {\r\n        if (!this.images) {\r\n            return;\r\n        }\r\n        let imageIndex = this.getImageIndex(cellIndex);\r\n        let file = this.images[imageIndex];\r\n        if (file && !file.type) {\r\n            file.type = 'image';\r\n        }\r\n        return {\r\n            image: this.images[imageIndex],\r\n            imageIndex\r\n        };\r\n    }\r\n    getImageIndex(cellIndexInDOMTree) {\r\n        const positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\r\n        let imageIndex;\r\n        if (this.counter > this.overflowCellsLimit) {\r\n            let cellLimitOverflow = this.counter - this.overflowCellsLimit;\r\n            imageIndex = positionIndex + cellLimitOverflow;\r\n            if (this.images && this.carouselProperties.loop) {\r\n                imageIndex = imageIndex % this.images.length;\r\n            }\r\n        }\r\n        else {\r\n            imageIndex = cellIndexInDOMTree;\r\n        }\r\n        return imageIndex;\r\n    }\r\n    setCounter(value) {\r\n        this.counter = value;\r\n    }\r\n    init(carouselProperties) {\r\n        this.element = this.carouselProperties.cellsElement;\r\n        this.cells = this.element.children;\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.element.parentElement.clientWidth;\r\n    }\r\n}\n\nclass Slide {\r\n    constructor(carouselProperties, utils, cells, container) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.utils = utils;\r\n        this.cells = cells;\r\n        this.container = container;\r\n        this.slideLength = 0;\r\n        this.isSlideInProgress = false;\r\n        this.counter = 0;\r\n        this._counter = 0;\r\n        this.distance = 0;\r\n        this.distanceAbs = 0;\r\n        this.isNotClickOnArrow = false;\r\n        this.initialPositionX = 0;\r\n        this.currentPositionX = 0;\r\n        /* The slide length has been limited by the limitSlideLength() method */\r\n        this.isSlideLengthLimited = false;\r\n        this.init();\r\n    }\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n    get minSwipeDistance() {\r\n        return this.carouselProperties.minSwipeDistance;\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n    get visibleCellsOverflowContainer() {\r\n        return this.utils.visibleCellsOverflowContainer;\r\n    }\r\n    /* The position to which the container returns after each slide\r\n     * in the light DUM tree mode.\r\n     */\r\n    get fixedContainerPosition() {\r\n        return -(this.overflowCellsLimit * this.fullCellWidth);\r\n    }\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n    /* Number of cell elements in the DUM tree */\r\n    get cellLength() {\r\n        if (this.isLightDOM) {\r\n            return this.cells.cellLengthInLightDOMMode;\r\n        }\r\n        else {\r\n            if (this.images) {\r\n                return this.images.length;\r\n            }\r\n            else {\r\n                return this.cells.cellLength;\r\n            }\r\n        }\r\n    }\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n    updateProperties(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.setVisibleWidth();\r\n    }\r\n    init() {\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\r\n    }\r\n    handleTouchstart() {\r\n        /* Touchstart event is not called for arrow */\r\n        this.isNotClickOnArrow = true;\r\n        this.isSlideLengthLimited = false;\r\n        if (!this.isSlideInProgress) {\r\n            this.initialPositionX = this.container.getCurrentPositionX();\r\n        }\r\n    }\r\n    handleTouchend() {\r\n        if (!this.isNotClickOnArrow) {\r\n            return;\r\n        }\r\n        this.currentPositionX = this.container.getCurrentPositionX();\r\n        this.distanceAbs = Math.abs(this.initialPositionX - this.currentPositionX);\r\n        this.distance = this.initialPositionX - this.currentPositionX;\r\n        this.direction = this.getDirection();\r\n        this.isNotClickOnArrow = false;\r\n        this.handleSlide();\r\n    }\r\n    handleTransitionend() {\r\n        this.setCounter();\r\n        this.isSlideInProgress = false;\r\n        if (this.isLightDOM) {\r\n            this.alignContainerFast();\r\n        }\r\n    }\r\n    handleSlide(customSlideLength = undefined) {\r\n        let isUsingButton = customSlideLength;\r\n        let newPositionX;\r\n        if (isUsingButton && this.isSlideInProgress || !this.direction) {\r\n            return;\r\n        }\r\n        /* Custom slide length is used in arrows */\r\n        if (customSlideLength) {\r\n            this.slideLength = this.limitSlideLength(customSlideLength);\r\n            if (!this.isSlideInProgress) {\r\n                this.initialPositionX = this.container.getCurrentPositionX();\r\n            }\r\n        }\r\n        else {\r\n            this.slideLength = this.getSlideLength(this.distanceAbs);\r\n        }\r\n        /* Store intermediate counter value */\r\n        this._counter = this.getPreliminaryCounter();\r\n        if (this.direction === 'left') {\r\n            if (!customSlideLength) {\r\n                this.slideLength = this.limitSlideLength(this.getSlideLength(this.distanceAbs));\r\n            }\r\n            this._counter = this.getPreliminaryCounter();\r\n            let isSlidesEnd = this.isSlidesEnd(this._counter);\r\n            newPositionX = this.getPositionByIndex(this._counter);\r\n            if (isSlidesEnd) {\r\n                this._counter = this.counter;\r\n                newPositionX = this.getPositionByIndex(this.counter);\r\n                this.slideLength = 0;\r\n            }\r\n        }\r\n        if (this.direction === 'right') {\r\n            if (!customSlideLength) {\r\n                this.slideLength = this.getSlideLength(this.distanceAbs);\r\n            }\r\n            if (this._counter < 0) {\r\n                this._counter = this.counter;\r\n                this.slideLength = this.counter;\r\n            }\r\n            newPositionX = this.getPositionByIndex(this.counter - this.slideLength);\r\n        }\r\n        if (this.container.getCurrentPositionX() !== newPositionX) {\r\n            this.isSlideInProgress = true;\r\n            this.container.transformPositionX(newPositionX);\r\n        }\r\n    }\r\n    next(length = 1) {\r\n        this.direction = 'left';\r\n        this.handleSlide(length);\r\n    }\r\n    prev(length = 1) {\r\n        this.direction = 'right';\r\n        this.handleSlide(length);\r\n    }\r\n    select(index) {\r\n        if (index > this.cellLength - 1) {\r\n            return;\r\n        }\r\n        if (index > this.counter) {\r\n            let length = index - this.counter;\r\n            this.next(length);\r\n        }\r\n        if (index < this.counter) {\r\n            let length = this.counter - index;\r\n            this.prev(length);\r\n        }\r\n    }\r\n    getPreliminaryCounter() {\r\n        if (this.direction === 'left') {\r\n            return this.counter + this.slideLength;\r\n        }\r\n        if (this.direction === 'right') {\r\n            return this.counter - this.slideLength;\r\n        }\r\n        return 0;\r\n    }\r\n    /*\r\n     * Limits the length of the slide during calls to the next() and prev()\r\n     * methods if the specified position is outside the cell length\r\n     */\r\n    limitSlideLength(slideLength) {\r\n        if (slideLength > 1) {\r\n            for (var i = 0; i < slideLength; i++) {\r\n                let newCounter = this.counter + (slideLength - i);\r\n                if (!this.isSlidesEnd(newCounter)) {\r\n                    slideLength = slideLength - i;\r\n                    this.isSlideLengthLimited = i > 0;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return slideLength;\r\n    }\r\n    /* Offset the container to show the last cell completely */\r\n    getPositionCorrection(counter) {\r\n        let correction = 0;\r\n        let isLastSlide = this.isLastSlide(counter);\r\n        if (this.carouselProperties.loop || this.direction === \"right\") {\r\n            return 0;\r\n        }\r\n        if (this.isSlideLengthLimited || isLastSlide) {\r\n            let cellsWidth = this.cells.cellLengthInLightDOMMode * this.fullCellWidth;\r\n            if (this.visibleWidth < cellsWidth) {\r\n                correction = -(this.numberOfVisibleCells * this.fullCellWidth - this.visibleWidth - this.margin);\r\n            }\r\n            if (correction >= -this.margin) {\r\n                correction = 0;\r\n            }\r\n        }\r\n        return correction;\r\n    }\r\n    getSlideLength(distanceAbs) {\r\n        let isLastSlide = this.isLastSlide(this.counter);\r\n        /* If the last cell does not fit entirely, then the\r\n         * length of the swipe to the left, from the extreme\r\n         * right position, may be shorter than usual.\r\n         */\r\n        if (isLastSlide && this.direction === \"right\") {\r\n            distanceAbs = distanceAbs + this.visibleWidth % this.fullCellWidth;\r\n        }\r\n        let length = Math.floor(distanceAbs / this.fullCellWidth);\r\n        if (distanceAbs % this.fullCellWidth >= this.minSwipeDistance) {\r\n            length++;\r\n        }\r\n        return length;\r\n    }\r\n    getDistanceAbs() {\r\n        return Math.abs(this.initialPositionX - this.currentPositionX);\r\n    }\r\n    getDirection() {\r\n        const direction = Math.sign(this.initialPositionX - this.currentPositionX);\r\n        if (direction === -1) {\r\n            return 'right';\r\n        }\r\n        if (direction === 1) {\r\n            return 'left';\r\n        }\r\n        return undefined;\r\n    }\r\n    isSlidesEnd(counter) {\r\n        let margin = this.visibleCellsOverflowContainer ? 1 : 0;\r\n        let imageLength = this.images ? this.images.length : this.cells.cellLength;\r\n        if (this.carouselProperties.loop) {\r\n            return false;\r\n        }\r\n        else {\r\n            return (imageLength - counter + margin) < this.numberOfVisibleCells;\r\n        }\r\n    }\r\n    isLastSlide(counter) {\r\n        return this.isSlidesEnd(counter + 1);\r\n    }\r\n    setCounter() {\r\n        if (this.direction === 'left') {\r\n            this.counter = this.counter + this.slideLength;\r\n        }\r\n        if (this.direction === 'right') {\r\n            this.counter = this.counter - this.slideLength;\r\n        }\r\n    }\r\n    getPositionByIndex(_counter) {\r\n        let correction = this.getPositionCorrection(this.counter + this.slideLength);\r\n        let position;\r\n        if (correction !== 0) {\r\n            correction = correction + this.fullCellWidth;\r\n        }\r\n        if (this.direction === 'right') {\r\n            correction = 0;\r\n        }\r\n        if (this.isLightDOM && this.isLightDOMMode(_counter) ||\r\n            this.isLightDOM && this.ifLeftDOMModeAtEnd(_counter)) {\r\n            let initialPosition = this.getPositionWithoutCorrection(this.initialPositionX);\r\n            let counterDifference = _counter - this.counter;\r\n            position = initialPosition - ((counterDifference * this.fullCellWidth) - correction);\r\n        }\r\n        else {\r\n            position = -((_counter * this.fullCellWidth) - correction);\r\n        }\r\n        position = this.provideSafePosition(position);\r\n        return position;\r\n    }\r\n    provideSafePosition(position) {\r\n        const endPosition = this.container.getEndPosition();\r\n        if (this.direction === 'left') {\r\n            if (position > 0) {\r\n                position = 0;\r\n            }\r\n        }\r\n        if (this.direction === 'right') {\r\n            if (position < endPosition) {\r\n                position = endPosition;\r\n            }\r\n        }\r\n        return position;\r\n    }\r\n    getPositionWithoutCorrection(value) {\r\n        let remainder = Math.round(value) % this.fullCellWidth;\r\n        if (remainder !== 0) {\r\n            return value - (this.fullCellWidth + remainder);\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    isNextArrowDisabled() {\r\n        return this.isLastSlide(this.counter) ||\r\n            (!this.visibleCellsOverflowContainer && this.cellLength <= this.numberOfVisibleCells) ||\r\n            (this.visibleCellsOverflowContainer && this.cellLength < this.numberOfVisibleCells);\r\n    }\r\n    isPrevArrowDisabled() {\r\n        return this.counter === 0;\r\n    }\r\n    alignContainerFast() {\r\n        if (this.isLightDOMMode(this.counter)) {\r\n            let positionX = this.fixedContainerPosition;\r\n            this.container.transformPositionX(positionX, 0);\r\n            this.cells.setCounter(this.counter);\r\n            this.cells.lineUp();\r\n        }\r\n        else if (this.ifLeftDOMModeToBeginning(this.counter)) {\r\n            /* If we have already exited the light DOM mode but\r\n             * the cells are still out of place\r\n             */\r\n            if (this.cells.ifSequenceOfCellsIsChanged()) {\r\n                let positionX = -(this.counter * this.fullCellWidth);\r\n                this.container.transformPositionX(positionX, 0);\r\n                this.cells.setCounter(this.counter);\r\n                this.cells.lineUp();\r\n            }\r\n        }\r\n        else if (this.ifLeftDOMModeAtEnd(this.counter)) {\r\n            let containerPositionX = this.container.getCurrentPositionX();\r\n            let containerWidth = this.container.getWidth();\r\n            this.visibleWidth;\r\n            if (this.isLastSlide(this.counter) &&\r\n                containerWidth + containerPositionX >= this.visibleWidth) {\r\n                return;\r\n            }\r\n            let correction = this.getPositionCorrection(this.counter);\r\n            if (correction !== 0) {\r\n                correction = correction + this.fullCellWidth;\r\n            }\r\n            if (this.direction === 'right') {\r\n                correction = 0;\r\n            }\r\n            let positionX = this.fixedContainerPosition + correction;\r\n            this.container.transformPositionX(positionX, 0);\r\n            this.cells.setCounter(this.counter);\r\n            this.cells.lineUp();\r\n        }\r\n    }\r\n    isLightDOMMode(counter) {\r\n        let flag;\r\n        let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\r\n        if (!this.isLightDOM) {\r\n            return false;\r\n        }\r\n        if (counter > this.overflowCellsLimit && this.direction === \"left\" &&\r\n            counter <= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        if (counter >= this.overflowCellsLimit && this.direction === \"right\" &&\r\n            counter < remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        if (this.counter > this.overflowCellsLimit && this.direction === \"left\" &&\r\n            this.counter <= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        if (this.counter >= this.overflowCellsLimit && this.direction === \"right\" &&\r\n            this.counter < remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }\r\n    ifLeftDOMModeAtEnd(counter) {\r\n        let flag;\r\n        let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\r\n        if (counter >= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        if (this.counter >= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }\r\n    ifLeftDOMModeToBeginning(counter) {\r\n        let flag;\r\n        if (counter <= this.overflowCellsLimit) {\r\n            flag = true;\r\n        }\r\n        if (this.counter <= this.overflowCellsLimit) {\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }\r\n    setVisibleWidth() {\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\r\n    }\r\n}\n\nclass Utils {\r\n    constructor(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n    get overflowCellsLimit() {\r\n        if (this.images && this.isImagesLessCellLimit) {\r\n            let overflowCellsLimit = Math.floor((this.images.length - this.numberOfVisibleCells) / 2);\r\n            if (overflowCellsLimit < 0) {\r\n                overflowCellsLimit = 0;\r\n            }\r\n            return overflowCellsLimit;\r\n        }\r\n        else {\r\n            return this.carouselProperties.overflowCellsLimit;\r\n        }\r\n    }\r\n    get isImagesLessCellLimit() {\r\n        return this.carouselProperties.overflowCellsLimit * 2 + this.numberOfVisibleCells > this.images.length;\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return Math.ceil(this.visibleWidth / this.fullCellWidth);\r\n    }\r\n    get visibleCellsOverflowContainer() {\r\n        return (this.numberOfVisibleCells * this.fullCellWidth - this.margin) > this.visibleWidth;\r\n    }\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n    get visibleWidth() {\r\n        return this.carouselProperties.visibleWidth || this.carouselProperties.cellsElement.parentElement.clientWidth;\r\n    }\r\n    updateProperties(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n    getStartX(event) {\r\n        const touches = event.touches;\r\n        const carouselElementPosition = this.getCarouselElementPosition()['left'];\r\n        let startX;\r\n        if (touches) {\r\n            startX = touches[0].clientX - carouselElementPosition;\r\n        }\r\n        else {\r\n            startX = event.clientX - carouselElementPosition;\r\n        }\r\n        return startX;\r\n    }\r\n    getMoveX(event) {\r\n        const touches = event.touches;\r\n        const carouselElementPositionX = this.getCarouselElementPosition()['left'];\r\n        if (touches) {\r\n            return touches[0].clientX - carouselElementPositionX;\r\n        }\r\n        else {\r\n            return event.clientX - carouselElementPositionX;\r\n        }\r\n    }\r\n    getCarouselElementPosition() {\r\n        return this.carouselProperties.hostElement.getBoundingClientRect();\r\n    }\r\n}\n\nclass CarouselComponent {\r\n    constructor(elementRef, ref) {\r\n        this.elementRef = elementRef;\r\n        this.ref = ref;\r\n        this.minTimeout = 30;\r\n        this.isVideoPlaying = false;\r\n        this._isCounter = false;\r\n        this._cellWidth = 200;\r\n        this._loop = false;\r\n        this._lightDOM = false;\r\n        this.isMoving = false;\r\n        this.isNgContent = false;\r\n        this.events = new EventEmitter();\r\n        this.height = 200;\r\n        this.autoplay = false;\r\n        this.autoplayInterval = 5000;\r\n        this.pauseOnHover = true;\r\n        this.dots = false;\r\n        this.margin = 10;\r\n        this.objectFit = 'cover';\r\n        this.minSwipeDistance = 10;\r\n        this.transitionDuration = 200;\r\n        this.transitionTimingFunction = 'ease-out';\r\n        this.counterSeparator = \" / \";\r\n        this.overflowCellsLimit = 3;\r\n        this.listeners = 'mouse and touch';\r\n        this.cellsToScroll = 1;\r\n        this.freeScroll = false;\r\n        this.arrows = true;\r\n        this.arrowsOutside = false;\r\n        this.arrowsTheme = 'light';\r\n        this.hostClassCarousel = true;\r\n        this.handleTouchstart = (event) => {\r\n            this.touches.addEventListeners(\"mousemove\", \"handleMousemove\");\r\n            this.carousel.handleTouchstart(event);\r\n            this.isMoving = true;\r\n        };\r\n        this.handleHorizontalSwipe = (event) => {\r\n            event.preventDefault();\r\n            this.carousel.handleHorizontalSwipe(event);\r\n        };\r\n        this.handleTouchend = (event) => {\r\n            const touches = event.touches;\r\n            this.carousel.handleTouchend(event);\r\n            this.touches.removeEventListeners(\"mousemove\", \"handleMousemove\");\r\n            this.isMoving = false;\r\n        };\r\n        this.handleTap = (event) => {\r\n            let outboundEvent = {\r\n                name: 'click'\r\n            };\r\n            let nodes = Array.prototype.slice.call(this.cellsElement.children);\r\n            let cellElement = event.srcElement.closest(\".carousel-cell\");\r\n            const i = nodes.indexOf(cellElement);\r\n            const cellIndex = nodes.indexOf(cellElement);\r\n            if (this.images) {\r\n                //outboundEvent.fileIndex = this.carousel.getFileIndex(i);\r\n                //outboundEvent.file = this.carousel.getFile(cellIndex);\r\n            }\r\n            else {\r\n                outboundEvent.cellIndex = cellIndex;\r\n            }\r\n        };\r\n    }\r\n    get isContainerLocked() {\r\n        if (this.carousel) {\r\n            return this.carousel.isContainerLocked;\r\n        }\r\n    }\r\n    get slideCounter() {\r\n        if (this.carousel) {\r\n            return this.carousel.slideCounter;\r\n        }\r\n    }\r\n    get lapCounter() {\r\n        if (this.carousel) {\r\n            return this.carousel.lapCounter;\r\n        }\r\n    }\r\n    get isLandscape() {\r\n        return window.innerWidth > window.innerHeight;\r\n    }\r\n    get isSafari() {\r\n        const ua = navigator.userAgent.toLowerCase();\r\n        if (ua.indexOf('safari') !== -1) {\r\n            return !(ua.indexOf('chrome') > -1);\r\n        }\r\n    }\r\n    get counter() {\r\n        let counter;\r\n        if (this.loop) {\r\n            counter = this.slideCounter % this.cellLength;\r\n        }\r\n        else {\r\n            counter = this.slideCounter;\r\n        }\r\n        return counter + 1 + this.counterSeparator + this.cellLength;\r\n    }\r\n    get cellsElement() {\r\n        return this.elementRef.nativeElement.querySelector('.carousel-cells');\r\n    }\r\n    get isArrows() {\r\n        return this.arrows && !this.freeScroll;\r\n    }\r\n    get isCounter() {\r\n        return this._isCounter && this.cellLength > 1;\r\n    }\r\n    get activeDotIndex() {\r\n        return this.slideCounter % this.cellLength;\r\n    }\r\n    get cellLimit() {\r\n        if (this.carousel) {\r\n            return this.carousel.cellLimit;\r\n        }\r\n    }\r\n    get carouselWidth() {\r\n        return this.elementRef.nativeElement.clientWidth;\r\n    }\r\n    set images(images) {\r\n        this._images = images;\r\n    }\r\n    get images() {\r\n        return this._images;\r\n    }\r\n    set cellWidth(value) {\r\n        if (value) {\r\n            this._cellWidth = value;\r\n        }\r\n    }\r\n    set isCounter(value) {\r\n        if (value) {\r\n            this._isCounter = value;\r\n        }\r\n    }\r\n    set loop(value) {\r\n        if (value) {\r\n            this._loop = value;\r\n        }\r\n    }\r\n    get loop() {\r\n        if (this.images) {\r\n            return this._loop;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    set lightDOM(value) {\r\n        if (value) {\r\n            this._lightDOM = value;\r\n        }\r\n    }\r\n    get lightDOM() {\r\n        if (this.images) {\r\n            return this._lightDOM;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    onWindowResize(event) {\r\n        if (this.utils.visibleWidth !== this.savedCarouselWidth) {\r\n            this.resize();\r\n        }\r\n    }\r\n    onMousemove(event) {\r\n        if (this.autoplay && this.pauseOnHover) {\r\n            this.carousel.stopAutoplay();\r\n        }\r\n    }\r\n    onMouseleave(event) {\r\n        if (this.autoplay && this.pauseOnHover) {\r\n            this.carousel.autoplay();\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.isNgContent = this.cellsElement.children.length > 0;\r\n        this.touches = new Touches({\r\n            element: this.cellsElement,\r\n            listeners: this.listeners,\r\n            mouseListeners: {\r\n                \"mousedown\": \"handleMousedown\",\r\n                \"mouseup\": \"handleMouseup\"\r\n            }\r\n        });\r\n        this.touches.on('touchstart', this.handleTouchstart);\r\n        this.touches.on('horizontal-swipe', this.handleHorizontalSwipe);\r\n        this.touches.on('touchend', this.handleTouchend);\r\n        this.touches.on('mousedown', this.handleTouchstart);\r\n        this.touches.on('mouseup', this.handleTouchend);\r\n        this.touches.on('tap', this.handleTap);\r\n        this.setDimensions();\r\n    }\r\n    ngAfterViewInit() {\r\n        this.initCarousel();\r\n        this.cellLength = this.getCellLength();\r\n        this.dotsArr = Array(this.cellLength).fill(1);\r\n        this.ref.detectChanges();\r\n        this.carousel.lineUpCells();\r\n        this.savedCarouselWidth = this.carouselWidth;\r\n        /* Start detecting changes in the DOM tree */\r\n        this.detectDomChanges();\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (changes.width || changes.height || changes.images) {\r\n            this.setDimensions();\r\n            this.initCarousel();\r\n            this.carousel.lineUpCells();\r\n            this.ref.detectChanges();\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this.touches.destroy();\r\n        //this.carousel.destroy();\r\n    }\r\n    initCarousel() {\r\n        this.carouselProperties = {\r\n            id: this.id,\r\n            cellsElement: this.elementRef.nativeElement.querySelector('.carousel-cells'),\r\n            hostElement: this.elementRef.nativeElement,\r\n            images: this.images,\r\n            cellWidth: this.getCellWidth(),\r\n            loop: this.loop,\r\n            autoplayInterval: this.autoplayInterval,\r\n            overflowCellsLimit: this.overflowCellsLimit,\r\n            visibleWidth: this.width,\r\n            margin: this.margin,\r\n            minSwipeDistance: this.minSwipeDistance,\r\n            transitionDuration: this.transitionDuration,\r\n            transitionTimingFunction: this.transitionTimingFunction,\r\n            videoProperties: this.videoProperties,\r\n            eventHandler: this.events,\r\n            freeScroll: this.freeScroll,\r\n            lightDOM: this.lightDOM\r\n        };\r\n        this.utils = new Utils(this.carouselProperties);\r\n        this.cells = new Cells(this.carouselProperties, this.utils);\r\n        this.container = new Container(this.carouselProperties, this.utils, this.cells);\r\n        this.slide = new Slide(this.carouselProperties, this.utils, this.cells, this.container);\r\n        this.carousel = new Carousel(this.carouselProperties, this.utils, this.cells, this.container, this.slide);\r\n        if (this.autoplay) {\r\n            this.carousel.autoplay();\r\n        }\r\n    }\r\n    resize() {\r\n        this.landscapeMode = this.isLandscape;\r\n        this.savedCarouselWidth = this.carouselWidth;\r\n        this.carouselProperties.cellWidth = this.getCellWidth();\r\n        this.cells.updateProperties(this.carouselProperties);\r\n        this.carousel.updateProperties(this.carouselProperties);\r\n        this.container.updateProperties(this.carouselProperties);\r\n        this.slide.updateProperties(this.carouselProperties);\r\n        this.utils.updateProperties(this.carouselProperties);\r\n        this.carousel.lineUpCells();\r\n        this.slide.select(0);\r\n        this.ref.detectChanges();\r\n    }\r\n    detectDomChanges() {\r\n        const observer = new MutationObserver((mutations) => {\r\n            this.onDomChanges();\r\n        });\r\n        var config = {\r\n            attributes: true,\r\n            childList: true,\r\n            characterData: true\r\n        };\r\n        observer.observe(this.cellsElement, config);\r\n    }\r\n    onDomChanges() {\r\n        this.cellLength = this.getCellLength();\r\n        this.carousel.lineUpCells();\r\n        this.ref.detectChanges();\r\n    }\r\n    setDimensions() {\r\n        this.hostStyleHeight = this.height + 'px';\r\n        this.hostStyleWidth = this.width + 'px';\r\n    }\r\n    getImage(index) {\r\n        return this.carousel.getImage(index);\r\n    }\r\n    handleTransitionendCellContainer(event) {\r\n        if (event.target['className'] === 'carousel-cells') {\r\n            this.carousel.handleTransitionend();\r\n        }\r\n    }\r\n    getCellWidth() {\r\n        let elementWidth = this.carouselWidth;\r\n        if (this.cellsToShow) {\r\n            let margin = this.cellsToShow > 1 ? this.margin : 0;\r\n            let totalMargin = margin * (this.cellsToShow - 1);\r\n            return (elementWidth - totalMargin) / this.cellsToShow;\r\n        }\r\n        if (this._cellWidth === '100%') {\r\n            return elementWidth;\r\n        }\r\n        else {\r\n            return this._cellWidth;\r\n        }\r\n    }\r\n    next() {\r\n        this.carousel.next(this.cellsToScroll);\r\n        this.carousel.stopAutoplay();\r\n    }\r\n    prev() {\r\n        this.carousel.prev(this.cellsToScroll);\r\n        this.carousel.stopAutoplay();\r\n    }\r\n    isNextArrowDisabled() {\r\n        if (this.carousel) {\r\n            return this.carousel.isNextArrowDisabled();\r\n        }\r\n    }\r\n    isPrevArrowDisabled() {\r\n        if (this.carousel) {\r\n            return this.carousel.isPrevArrowDisabled();\r\n        }\r\n    }\r\n    getCellLength() {\r\n        if (this.images) {\r\n            return this.images.length;\r\n        }\r\n        else {\r\n            return this.cellsElement.children.length;\r\n        }\r\n    }\r\n}\nCarouselComponent.ɵfac = function CarouselComponent_Factory(t) { return new (t || CarouselComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nCarouselComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: CarouselComponent, selectors: [[\"carousel\"], [\"\", \"carousel\", \"\"]], hostVars: 6, hostBindings: function CarouselComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function CarouselComponent_resize_HostBindingHandler($event) { return ctx.onWindowResize($event); }, false, ɵngcc0.ɵɵresolveWindow)(\"mousemove\", function CarouselComponent_mousemove_HostBindingHandler($event) { return ctx.onMousemove($event); })(\"mouseleave\", function CarouselComponent_mouseleave_HostBindingHandler($event) { return ctx.onMouseleave($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"height\", ctx.hostStyleHeight)(\"width\", ctx.hostStyleWidth);\n        ɵngcc0.ɵɵclassProp(\"carousel\", ctx.hostClassCarousel);\n    } }, inputs: { height: \"height\", autoplay: \"autoplay\", autoplayInterval: \"autoplayInterval\", pauseOnHover: \"pauseOnHover\", dots: \"dots\", margin: \"margin\", objectFit: \"objectFit\", minSwipeDistance: \"minSwipeDistance\", transitionDuration: \"transitionDuration\", transitionTimingFunction: \"transitionTimingFunction\", counterSeparator: \"counterSeparator\", overflowCellsLimit: \"overflowCellsLimit\", listeners: \"listeners\", cellsToScroll: \"cellsToScroll\", freeScroll: \"freeScroll\", arrows: \"arrows\", arrowsOutside: \"arrowsOutside\", arrowsTheme: \"arrowsTheme\", isCounter: [\"counter\", \"isCounter\"], images: \"images\", cellWidth: \"cellWidth\", loop: \"loop\", lightDOM: \"lightDOM\", id: \"id\", width: \"width\", borderRadius: \"borderRadius\", videoProperties: \"videoProperties\", cellsToShow: \"cellsToShow\" }, outputs: { events: \"events\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c0, decls: 8, vars: 6, consts: [[\"class\", \"carousel-counter\", 4, \"ngIf\"], [1, \"carousel-container\"], [1, \"carousel-cells\", 3, \"transitionend\"], [\"cells\", \"\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [\"class\", \"carousel-dots\", 4, \"ngIf\"], [\"class\", \"carousel-arrows\", 3, \"carousel-arrows-outside\", \"carousel-dark-arrows\", 4, \"ngIf\"], [1, \"carousel-counter\"], [\"class\", \"carousel-cell\", 3, \"width\", \"border-radius\", 4, \"ngIf\"], [1, \"carousel-cell\"], [\"draggable\", \"false\", 3, \"src\", \"object-fit\", 4, \"ngIf\"], [\"draggable\", \"false\", 3, \"src\"], [1, \"carousel-dots\"], [\"class\", \"carousel-dot\", 3, \"carousel-dot-active\", 4, \"ngFor\", \"ngForOf\"], [1, \"carousel-dot\"], [1, \"carousel-arrows\"], [1, \"carousel-arrow\", \"carousel-arrow-prev\", 3, \"click\"], [1, \"carousel-arrow\", \"carousel-arrow-next\", 3, \"click\"]], template: function CarouselComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, CarouselComponent_div_0_Template, 2, 1, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2, 3);\n        ɵngcc0.ɵɵlistener(\"transitionend\", function CarouselComponent_Template_div_transitionend_2_listener($event) { return ctx.handleTransitionendCellContainer($event); });\n        ɵngcc0.ɵɵprojection(4);\n        ɵngcc0.ɵɵtemplate(5, CarouselComponent_ng_template_5_Template, 1, 1, \"ng-template\", 4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(6, CarouselComponent_div_6_Template, 2, 1, \"div\", 5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(7, CarouselComponent_div_7_Template, 3, 8, \"div\", 6);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isCounter);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"carousel-moving\", ctx.isMoving);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.images);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.dots);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isArrows);\n    } }, dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf], styles: [\"[_nghost-%COMP%]{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;cursor:grab}[_nghost-%COMP%]   .carousel-container.carousel-moving[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]   .carousel-counter[_ngcontent-%COMP%]{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}[_nghost-%COMP%]     .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]     .carousel-cells .carousel-cell img, [_nghost-%COMP%]     .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}[_nghost-%COMP%]     .carousel-cells .carousel-cell img.swiper-hide{display:none}[_nghost-%COMP%]     .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}[_nghost-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}[_nghost-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}[_nghost-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:-60px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:-60px}[_nghost-%COMP%]   .carousel-dark-arrows[_ngcontent-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]   .carousel-arrow-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot[_ngcontent-%COMP%]{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot-active[_ngcontent-%COMP%]{background-color:#fff}\"] });\r\nCarouselComponent.ctorParameters = () => [\r\n    { type: ElementRef },\r\n    { type: ChangeDetectorRef }\r\n];\r\nCarouselComponent.propDecorators = {\r\n    events: [{ type: Output }],\r\n    id: [{ type: Input }],\r\n    height: [{ type: Input }],\r\n    width: [{ type: Input }],\r\n    autoplay: [{ type: Input }],\r\n    autoplayInterval: [{ type: Input }],\r\n    pauseOnHover: [{ type: Input }],\r\n    dots: [{ type: Input }],\r\n    borderRadius: [{ type: Input }],\r\n    margin: [{ type: Input }],\r\n    objectFit: [{ type: Input }],\r\n    minSwipeDistance: [{ type: Input }],\r\n    transitionDuration: [{ type: Input }],\r\n    transitionTimingFunction: [{ type: Input }],\r\n    videoProperties: [{ type: Input }],\r\n    counterSeparator: [{ type: Input }],\r\n    overflowCellsLimit: [{ type: Input }],\r\n    listeners: [{ type: Input }],\r\n    cellsToShow: [{ type: Input }],\r\n    cellsToScroll: [{ type: Input }],\r\n    freeScroll: [{ type: Input }],\r\n    arrows: [{ type: Input }],\r\n    arrowsOutside: [{ type: Input }],\r\n    arrowsTheme: [{ type: Input }],\r\n    images: [{ type: Input }],\r\n    cellWidth: [{ type: Input, args: ['cellWidth',] }],\r\n    isCounter: [{ type: Input, args: ['counter',] }],\r\n    loop: [{ type: Input, args: ['loop',] }],\r\n    lightDOM: [{ type: Input, args: ['lightDOM',] }],\r\n    hostClassCarousel: [{ type: HostBinding, args: ['class.carousel',] }],\r\n    hostStyleHeight: [{ type: HostBinding, args: ['style.height',] }],\r\n    hostStyleWidth: [{ type: HostBinding, args: ['style.width',] }],\r\n    onWindowResize: [{ type: HostListener, args: ['window:resize', ['$event'],] }],\r\n    onMousemove: [{ type: HostListener, args: ['mousemove', ['$event'],] }],\r\n    onMouseleave: [{ type: HostListener, args: ['mouseleave', ['$event'],] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CarouselComponent, [{\n        type: Component,\n        args: [{ selector: 'carousel, [carousel]', template: \"<div class=\\\"carousel-counter\\\" *ngIf=\\\"isCounter\\\">{{counter}}</div>\\r\\n\\r\\n<div class=\\\"carousel-container\\\" [class.carousel-moving]=\\\"isMoving\\\">\\r\\n\\t<div class=\\\"carousel-cells\\\" #cells (transitionend)=\\\"handleTransitionendCellContainer($event)\\\">\\r\\n\\t\\t<ng-content></ng-content>\\r\\n\\r\\n\\t\\t<ng-template ngFor let-image [ngForOf]=\\\"images\\\" let-i=\\\"index\\\">\\r\\n\\t\\t\\t<div class=\\\"carousel-cell\\\" \\r\\n\\t\\t\\t\\t[style.width]=\\\"getCellWidth()+'px'\\\"\\r\\n\\t\\t\\t\\t[style.border-radius]=\\\"borderRadius+'px'\\\"\\r\\n\\t\\t\\t\\t*ngIf=\\\"i < cellLimit\\\">\\r\\n\\t\\t\\t\\t<!-- Image -->\\r\\n\\t\\t\\t\\t<img \\r\\n\\t\\t\\t\\t\\t*ngIf=\\\"getImage(i) && getImage(i)['image']\\\" \\r\\n\\t\\t\\t\\t\\t[src]=\\\"getImage(i)['image']['path']\\\"\\r\\n\\t\\t\\t\\t\\t[style.object-fit]=\\\"objectFit\\\"\\r\\n\\t\\t\\t\\t\\tdraggable=\\\"false\\\" />\\r\\n\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</ng-template>\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\\"carousel-dots\\\" *ngIf=\\\"dots\\\">\\r\\n\\t\\t<div class=\\\"carousel-dot\\\" [class.carousel-dot-active]=\\\"i === activeDotIndex\\\" *ngFor=\\\"let dot of dotsArr; index as i\\\"></div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"carousel-arrows\\\" \\r\\n\\t[class.carousel-arrows-outside]=\\\"arrowsOutside\\\" \\r\\n\\t[class.carousel-dark-arrows]=\\\"arrowsTheme === 'dark'\\\"\\r\\n\\t*ngIf=\\\"isArrows\\\">\\r\\n\\t\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-prev\\\" [class.carousel-arrow-disabled]=\\\"isPrevArrowDisabled()\\\" (click)=\\\"prev()\\\"></div>\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-next\\\" [class.carousel-arrow-disabled]=\\\"isNextArrowDisabled()\\\" (click)=\\\"next()\\\"></div>\\r\\n</div>\", styles: [\":host{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}:host .carousel-container{overflow:hidden;width:100%;height:100%;cursor:grab}:host .carousel-container.carousel-moving{cursor:grabbing}:host .carousel-counter{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}:host ::ng-deep .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}:host ::ng-deep .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}:host ::ng-deep .carousel-cells .carousel-cell img,:host ::ng-deep .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}:host ::ng-deep .carousel-cells .carousel-cell img.swiper-hide{display:none}:host ::ng-deep .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}:host .carousel-arrow{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}:host .carousel-arrow-prev{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}:host .carousel-arrow-next{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}:host .carousel-arrows-outside .carousel-arrow-prev{left:-60px}:host .carousel-arrows-outside .carousel-arrow-next{right:-60px}:host .carousel-dark-arrows .carousel-arrow{filter:invert(1)}:host .carousel-arrow-disabled{cursor:default;opacity:.5}:host .carousel-dots{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}:host .carousel-dots .carousel-dot{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}:host .carousel-dots .carousel-dot-active{background-color:#fff}\"] }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }]; }, { events: [{\n            type: Output\n        }], height: [{\n            type: Input\n        }], autoplay: [{\n            type: Input\n        }], autoplayInterval: [{\n            type: Input\n        }], pauseOnHover: [{\n            type: Input\n        }], dots: [{\n            type: Input\n        }], margin: [{\n            type: Input\n        }], objectFit: [{\n            type: Input\n        }], minSwipeDistance: [{\n            type: Input\n        }], transitionDuration: [{\n            type: Input\n        }], transitionTimingFunction: [{\n            type: Input\n        }], counterSeparator: [{\n            type: Input\n        }], overflowCellsLimit: [{\n            type: Input\n        }], listeners: [{\n            type: Input\n        }], cellsToScroll: [{\n            type: Input\n        }], freeScroll: [{\n            type: Input\n        }], arrows: [{\n            type: Input\n        }], arrowsOutside: [{\n            type: Input\n        }], arrowsTheme: [{\n            type: Input\n        }], hostClassCarousel: [{\n            type: HostBinding,\n            args: ['class.carousel']\n        }], isCounter: [{\n            type: Input,\n            args: ['counter']\n        }], images: [{\n            type: Input\n        }], cellWidth: [{\n            type: Input,\n            args: ['cellWidth']\n        }], loop: [{\n            type: Input,\n            args: ['loop']\n        }], lightDOM: [{\n            type: Input,\n            args: ['lightDOM']\n        }], onWindowResize: [{\n            type: HostListener,\n            args: ['window:resize', ['$event']]\n        }], onMousemove: [{\n            type: HostListener,\n            args: ['mousemove', ['$event']]\n        }], onMouseleave: [{\n            type: HostListener,\n            args: ['mouseleave', ['$event']]\n        }], hostStyleHeight: [{\n            type: HostBinding,\n            args: ['style.height']\n        }], hostStyleWidth: [{\n            type: HostBinding,\n            args: ['style.width']\n        }], id: [{\n            type: Input\n        }], width: [{\n            type: Input\n        }], borderRadius: [{\n            type: Input\n        }], videoProperties: [{\n            type: Input\n        }], cellsToShow: [{\n            type: Input\n        }] }); })();\n\nclass IvyCarouselModule {\r\n}\nIvyCarouselModule.ɵfac = function IvyCarouselModule_Factory(t) { return new (t || IvyCarouselModule)(); };\nIvyCarouselModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: IvyCarouselModule });\nIvyCarouselModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [CommonModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(IvyCarouselModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    CarouselComponent\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    CarouselComponent\n                ],\n                providers: [],\n                bootstrap: [],\n                entryComponents: [\n                    CarouselComponent\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(IvyCarouselModule, { declarations: function () { return [CarouselComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [CarouselComponent]; } }); })();\n\n/*\r\n * Public API Surface of angular-responsive-carousel\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { CarouselComponent, IvyCarouselModule };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}